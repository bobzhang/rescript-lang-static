(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37443],{29993:function(e,r,t){"use strict";t.r(r);t(40790);var n=t(4631),o=t.n(n);o().defineSimpleMode("reason",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/(\:\s*)(.*)(\s*=)\s/,token:[null,"type-annotation",null]},{regex:/'(?:[^'\\]|\\(?:[nrt0'"]|x[\da-fA-F]{2}|u\{[\da-fA-F]{6}\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\(?:['\\nrt0]|x[\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let|type)(\s+rec)?(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword","keyword2",null,"def"]},{regex:/(?:switch|module|as|do|else|external|for|if|in|loop|mod|pub|ref|type|while|open|open\!)\b/,token:"keyword"},{regex:/(?:rec)\b/,token:"keyword2"},{regex:/\b(?:char|bool|option|int|string)\b/,token:"atom"},{regex:/\b(?:true|false)\b/,token:"builtin"},{regex:/\b(fun)(\s+)([a-zA-Z_\|][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/\b([A-Z][a-zA-Z0-9_]*)(\.)/,token:["module",null]},{regex:/\b([A-Z][a-zA-Z0-9_]*)/,token:["variant-constructor",null,null,null]},{regex:/\[.*\]/,token:"decorator"},{regex:/#!?\[.*\]/,token:"meta"},{regex:/\/\/.*/,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/[-+\/*=<>!\|]+/,token:"operator"},{regex:/[a-zA-Z_]\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\w*/,token:"variable"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0}],variantConstructor:[],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\"]|\\(?:.|$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\s*\}$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),o().defineMIME("text/x-reasonsrc","reason"),o().defineMIME("text/reason","reason")},4887:function(e,r,t){"use strict";t.r(r);t(40790);var n=t(4631),o=t.n(n);o().defineSimpleMode("rescript",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?"/,token:"string",next:"string"},{regex:/(\:\s*)(.*)(\s*=)\s/,token:[null,"type-annotation",null]},{regex:/b?`/,token:"string",next:"string_interpolation"},{regex:/'(?:[^'\\]|\\(?:[nrt0'"]|x[\da-fA-F]{2}|u\{[\da-fA-F]{6}\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\(?:['\\nrt0]|x[\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let|type)(\s+rec)?(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword","keyword2",null,"def"]},{regex:/(?:and|as|assert|catch|constraint|downto|else|exception|export|external|false|for|if|import|in|include|lazy|let|module|mutable|of|open|private|switch|to|true|try|type|when|while|with\!)\b/,token:"keyword"},{regex:/(?:rec|list)\b/,token:"keyword2"},{regex:/\b(?:char|bool|option|int|string)\b/,token:"atom"},{regex:/\b(?:true|false)\b/,token:"builtin"},{regex:/\b([A-Z][a-zA-Z0-9_]*)(\.)/,token:["module",null]},{regex:/\b([A-Z][a-zA-Z0-9_]*)/,token:["variant-constructor",null,null,null]},{regex:/#[a-zA-Z0-9_"]*/,token:"variant-constructor"},{regex:/@.[\w\.\(\)]*/,token:"decorator"},{regex:/#!?\[.*\]/,token:"meta"},{regex:/\/\/.*/,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/[-+\/*=<>!\|]+/,token:"operator"},{regex:/[a-zA-Z_]\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\w*/,token:"variable"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0}],variantConstructor:[],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\"]|\\(?:.|$))*/,token:"string"}],list:[{regex:/list{/,token:"keyword2",next:"start"},{regex:/[^`]*/,token:"string"}],string_interpolation:[{regex:/`/,token:"string",next:"start"},{regex:/[^`]*/,token:"string"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\s*\}$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),o().defineMIME("text/x-reasonsrc","reason"),o().defineMIME("text/reason","reason")},37443:function(e,r,t){"use strict";t.r(r),t.d(r,{$$default:function(){return Oe},default:function(){return Oe}});var n=t(96156),o=t(29826),a=t(84486),i=t(43723),s=t(89620),c=t(45841),u=t(62024),l=t(67294),f=t(4285),m=t(3034),d=t(66243),g=t(66397);function v(e){switch(e){case 0:return"black";case 1:return"red";case 2:return"green";case 3:return"yellow";case 4:return"blue";case 5:return"magenta";case 6:return"cyan";case 7:return"white"}}function p(e){if("number"===typeof e)return"bold";switch(0|e.TAG){case 0:return"Fg("+v(e._0)+")";case 1:return"Bg("+v(e._0)+")";case 2:return"Unknown: "+e._0}}var b="\x1b";function y(e){return/[\x40-\x7F]/.test(e)}function _(e){return e.pos>=e.input.length}function h(e){if(_(e))return e.input[e.pos];var r=e.input[e.pos+1|0];return e.pos=e.pos+1|0,r}function E(e,r,t){for(;;){var o=void 0!==e?e:[],a=void 0!==r?r:0;if(_(t))return o;if("number"!==typeof a)if(0!==a.TAG){var i=a.content,s=a.startPos,c=h(t),u=t.pos-1|0;if(c!==b){if(_(t)){var l={startPos:s,endPos:u},d=(0,n.Z)({TAG:0,loc:l,content:i},Symbol.for("name"),"Text");return o.push(d),o}var v=i+c;r=(0,n.Z)({TAG:1,startPos:s,content:v},Symbol.for("name"),"ReadText"),e=o}else{var p={startPos:s,endPos:u},E=(0,n.Z)({TAG:0,loc:p,content:i},Symbol.for("name"),"Text");o.push(E),r=(0,n.Z)({TAG:0,startPos:t.pos,content:c},Symbol.for("name"),"ReadSgr"),e=o}}else{var w=a.content,k=a.startPos,x=h(t);if("["!==x&&y(x)){var T,S=w+x,A={startPos:k,endPos:(k+S.length|0)-1|0},G=/\[([0-9;]+)([\x40-\x7F])/.exec(S);if(null!==G){var Z=m.U2(G,1);if(null==Z)T=(0,n.Z)({TAG:1,loc:A,raw:S,params:[]},Symbol.for("name"),"Sgr");else{var N=(null==Z?void 0:g.G(Z)).split(";"),C=0;if(1!==N.length)C=1;else"0"===N[0]?T=(0,n.Z)({TAG:2,loc:A,raw:S},Symbol.for("name"),"ClearSgr"):C=1;if(1===C){var U=f.UI(N,(function(e){switch(e){case"1":return 0;case"30":return(0,n.Z)({TAG:0,_0:0},Symbol.for("name"),"Fg");case"31":return(0,n.Z)({TAG:0,_0:1},Symbol.for("name"),"Fg");case"32":return(0,n.Z)({TAG:0,_0:2},Symbol.for("name"),"Fg");case"33":return(0,n.Z)({TAG:0,_0:3},Symbol.for("name"),"Fg");case"34":return(0,n.Z)({TAG:0,_0:4},Symbol.for("name"),"Fg");case"35":return(0,n.Z)({TAG:0,_0:5},Symbol.for("name"),"Fg");case"36":return(0,n.Z)({TAG:0,_0:6},Symbol.for("name"),"Fg");case"37":return(0,n.Z)({TAG:0,_0:7},Symbol.for("name"),"Fg");case"40":return(0,n.Z)({TAG:1,_0:0},Symbol.for("name"),"Bg");case"41":return(0,n.Z)({TAG:1,_0:1},Symbol.for("name"),"Bg");case"42":return(0,n.Z)({TAG:1,_0:2},Symbol.for("name"),"Bg");case"43":return(0,n.Z)({TAG:1,_0:3},Symbol.for("name"),"Bg");case"44":return(0,n.Z)({TAG:1,_0:4},Symbol.for("name"),"Bg");case"45":return(0,n.Z)({TAG:1,_0:5},Symbol.for("name"),"Bg");case"46":return(0,n.Z)({TAG:1,_0:6},Symbol.for("name"),"Bg");case"47":return(0,n.Z)({TAG:1,_0:7},Symbol.for("name"),"Bg");default:return(0,n.Z)({TAG:2,_0:e},Symbol.for("name"),"Unknown")}}));T=(0,n.Z)({TAG:1,loc:A,raw:S,params:U},Symbol.for("name"),"Sgr")}}}else T=(0,n.Z)({TAG:1,loc:A,raw:S,params:[]},Symbol.for("name"),"Sgr");o.push(T),r=0,e=o;continue}r=(0,n.Z)({TAG:0,startPos:k,content:w+x},Symbol.for("name"),"ReadSgr"),e=o}else{var I=h(t);r=I===b?(0,n.Z)({TAG:0,startPos:t.pos,content:""},Symbol.for("name"),"ReadSgr"):(0,n.Z)({TAG:1,startPos:t.pos,content:I},Symbol.for("name"),"ReadText"),e=o}}}var w={fromTokens:function(e){for(var r=[],t=[],n="",o=e.length,a=0;a<o;++a){var i=f.BP(e,a),s=a===(o-1|0);switch(0|i.TAG){case 0:if(n+=i.content,s&&""!==n){var c={content:n,params:t};r.push(c)}break;case 1:var u=f.u4(f.zo(t,i.params),[void 0,void 0,[]],(function(e,r){var t=e[2],n=e[1],o=e[0];if("number"!==typeof r)switch(0|r.TAG){case 0:return[r,n,t];case 1:return[o,r,t]}return void 0===g._2(t.find((function(e){return r===e})))&&t.push(r),[o,n,t]}));if(""!==n){var l={content:n,params:t};r.push(l),n=""}t=f.ID([d.k7(u[0],[],(function(e){return[e]})),d.k7(u[1],[],(function(e){return[e]})),u[2]]);break;case 2:if(""!==n){var m={content:n,params:t};r.push(m),t=[],n=""}}}return r},toString:function(e){var r=e.content.replace(/\n/g,"\\n").replace(b,"");return"SgrString params: "+f.UI(e.params,p).join(", ")+" | content: "+r}};function k(e,r){if(e)switch(r){case 0:return"bg-gray-100";case 1:return"bg-fire";case 2:return"bg-turtle-dark";case 3:return"bg-orange-dark";case 5:return"bg-berry";case 4:case 6:return"bg-water-dark";case 7:return"bg-gray-10"}else switch(r){case 0:return"text-gray-100";case 1:return"text-fire-70";case 2:return"text-turtle-dark";case 3:return"text-orange-dark";case 5:return"text-berry";case 4:case 6:return"text-water-dark";case 7:return"text-gray-10"}}var x=function(e){var r=e.className,t=e.children,n=f.Su(w.fromTokens(E(void 0,void 0,{input:t,pos:-1})),(function(e,r){var t=String(e),n=r.params.map((function(e){if("number"===typeof e)return"bold";switch(0|e.TAG){case 0:return k(0,e._0);case 1:return k(1,e._0);case 2:return""}})).join(" ");return l.createElement("span",{key:t,className:n},r.content)})),o={};return void 0!==r&&(o.className=g.xt(r)),l.createElement("pre",o,n)},T=t(92285),S=t(70762),A=t(26961),G=t(13391),Z=t(75079),N=t(4631),C=function(){function e(){return{width:window.innerWidth,height:window.innerHeight}}var r=l.useState(e),t=(0,G.Z)(r,2),n=t[0],o=t[1],a=!1;return l.useEffect((function(){function r(){a||(o(e()),a=!0,setTimeout((function(){a=!1}),300))}return window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[]),n?n.width:null},U="errors",I=function(e,r,t,n){e.style.left=t+"px",e.style.top=r+"px",e.classList.remove("hidden"),e.innerHTML=n},R=u._1((function(){var e=document.createElement("div");return e.id="hover-tooltip",e.className="absolute hidden select-none font-mono text-12 z-10 bg-sky-10 py-1 px-2 rounded",e}),void 0);function P(e,r,t){var o=l.useRef(0),a=l.useRef(void 0);l.useEffect((function(){return function(e){document.body.appendChild(e)}(R),function(e){return function(e){e.remove()}(R)}}),[]);return[function(t){var i,s=r.current;if(void 0!==s){var c=g.xt(s),u=t.target;if(("SPAN"!==(i=u).tagName.toUpperCase()||"presentation"===i.getAttribute("role")||!/CodeMirror-hover-hint-marker/.test(i.className))&&function(e){return"SPAN"===e.tagName.toUpperCase()&&"presentation"!==e.getAttribute("role")}(u)){var l=e.current.hoverHints,f=t.pageX,m=t.pageY,d=c.coordsChar({top:m,left:f}),v=d.ch,p=d.line+1|0,b=l.find((function(e){var r=e.end,t=e.start;return p>=t.line&&p<=r.line&&v>=t.col&&v<=r.col}));if(void 0!==b){I(R,m-35|0,f,b.hint);var y={line:b.start.line-1|0,ch:b.start.col},_={line:b.end.line-1|0,ch:b.end.col},h={className:"CodeMirror-hover-hint-marker border-b"},E=o.current;if(E){var w=E.hideTimer;void 0!==w&&clearTimeout(g.xt(w)),E.marker.clear();var k=c.markText(y,_,h);o.current=(0,n.Z)({el:E.el,marker:k,hoverHint:b,hideTimer:void 0},Symbol.for("name"),"Shown")}else{var x=c.markText(y,_,h);a.current=g.G(x),o.current=(0,n.Z)({el:u,marker:x,hoverHint:b,hideTimer:void 0},Symbol.for("name"),"Shown")}}}}},function(e){var r=o.current;if(r){var t=r.hideTimer,a=r.marker;void 0!==t&&clearTimeout(g.xt(t)),a.clear();var i=setTimeout((function(e){return o.current=0,function(e){e.classList.add("hidden")}(R)}),200);o.current=(0,n.Z)({el:r.el,marker:a,hoverHint:r.hoverHint,hideTimer:g.G(i)},Symbol.for("name"),"Shown")}},function(e){var r=o.current;if(r){var t=e.pageX,n=e.pageY;I(R,n-35|0,t,r.hoverHint.hint)}}]}function D(e){var r=e.split("_");if(2===r.length){var t=r[1].split("-");if(2===t.length){var n=t[0],o=t[1],a=Z.m(n),i=Z.m(o);return void 0!==a&&void 0!==i?[a,i]:void 0}}}function F(e,r,t,n,o){f.Ed(e.marked,(function(e){e.clear()})),e.marked=[],n.clearGutter(U);var a=n.getWrapperElement();f.pz(o,(function(r,t){var o=function(e,r,t){var n=document.createElement("div"),o="Error"===r?"text-fire bg-fire-100":"text-orange bg-orange-15";return n.id="gutter-marker_"+e[0]+"-"+e[1],n.className="flex items-center justify-center text-14 text-center ml-1 h-6 font-bold hover:cursor-pointer "+o,n.innerHTML="!",n}([t.row,t.column],t.kind);a.appendChild(o);var i=t.row-1|0,s=t.endRow-1|0;n.setGutterMarker(i,U,o);var c={line:i,ch:t.column},u={line:s,ch:t.endColumn},l="Error"===t.kind?"border-fire":"border-orange",f=n.markText(c,u,{className:"border-b border-dotted hover:cursor-pointer "+l,attributes:{id:"text-marker_"+String(t.row)+"-"+String(t.column)}});e.marked.push(f)}));var i=function(e){return!!e.startsWith("gutter-marker")||e.startsWith("text-marker")};a.onmouseover=function(e){var t=e.target.id;if(i(t)){var n=D(t);return void 0!==n?d.Ed(r,(function(e){return u._1(e,n)})):void 0}},a.onmouseout=function(e){var r=e.target.id;if(i(r)){var n=D(r);return void 0!==n?d.Ed(t,(function(e){return u._1(e,n)})):void 0}}}var L=function(e){var r=e.errors,t=e.hoverHints,n=e.minHeight,o=e.maxHeight,a=e.className,i=e.style,s=e.onChange,c=e.onMarkerFocus,m=e.onMarkerFocusLeave,v=e.value,p=e.mode,b=e.readOnly,y=e.lineNumbers,_=e.scrollbarStyle,h=e.lineWrapping,E=void 0!==r?r:[],w=void 0!==t?t:[],k=void 0!==b&&b,x=void 0===y||y,T=void 0!==_?_:"overlay",S=void 0!==h&&h,A=l.useRef(null),G=l.useRef(void 0),Z=l.useRef({marked:[],hoverHints:w}),I=u._1(C,void 0),R=P(Z,G),D=R[2],L=R[1],W=R[0];l.useEffect((function(){var e=A.current;if(null!=e){var r={theme:"material",gutters:[U,"CodeMirror-linenumbers"],mode:p,lineNumbers:x,readOnly:k,lineWrapping:S,fixedGutter:!1,scrollbarStyle:T},t=N.fromTextArea(e,r);d.Ed(n,(function(e){t.getScrollerElement().style.minHeight=e})),d.Ed(o,(function(e){t.getScrollerElement().style.maxHeight=e})),d.Ed(s,(function(e){t.on("change",(function(r){return u._1(e,r.getValue())}))})),t.setValue(v);var a=t.getWrapperElement();return N.on(a,"mouseover",u.Dm(W)),N.on(a,"mouseout",u.Dm(L)),N.on(a,"mousemove",u.Dm(D)),G.current=g.G(t),function(e){N.off(a,"mouseover",u.Dm(W)),N.off(a,"mouseout",u.Dm(L)),N.off(a,"mousemove",u.Dm(D)),t.toTextArea(),G.current=void 0}}}),[]),l.useEffect((function(){Z.current.hoverHints=w}),[w]);var z=G.current;if(void 0!==z){var M=g.xt(z);if(M.getValue()!==v){var V=Z.current;M.operation((function(){return F(V,c,m,M,E)})),M.setValue(v)}}var H=f.UI(E,(function(e){return e.row+"-"+e.column})).join(";");l.useEffect((function(){var e=Z.current,r=G.current;if(void 0!==r){var t=g.xt(r);t.operation((function(){return F(e,c,m,t,E)}))}}),[H]),l.useEffect((function(){d.BP(G.current).setOption("mode",p)}),[p]),l.useEffect((function(){var e=G.current;void 0!==e&&g.xt(e).refresh()}),[a,I]);var X={};return void 0!==a&&(X.className=g.xt(a)),void 0!==i&&(X.style=g.xt(i)),l.createElement("div",X,l.createElement("textarea",{ref:A,className:"hidden"}))},W=t(88200),z=t(49748),M=t(78579),V=t(17452),H="undefined"!==typeof window.document;function X(e){document.body.querySelectorAll('script[src="'.concat(e,'"]')).forEach((function(e){document.body.removeChild(e)}))}var j=t(15436),B=t(23832),O=t(70240);function J(e){switch(e){case 0:return"re";case 1:return"ml";case 2:return"res"}}function $(e){var r=B.Z_(e);switch(r){case"ml":return 1;case"re":return 0;case"res":return 2;default:throw{RE_EXN_ID:B._9,_1:'Unknown language "'+r+'"',Error:new Error}}}var K={toString:function(e){switch(e){case 0:return"Reason";case 1:return"OCaml";case 2:return"ReScript"}},toExt:J,decode:$};var q={fromString:function(e){var r=V.nI(e.split("."));if(!r)return(0,n.Z)({_0:e},Symbol.for("name"),"UnknownVersion");var t=r.tl;if(!t)return(0,n.Z)({_0:e},Symbol.for("name"),"UnknownVersion");var o=Z.m(r.hd);return Z.m(t.hd),void 0!==o&&o>=1?0:(0,n.Z)({_0:e},Symbol.for("name"),"UnknownVersion")},defaultTargetLang:function(e){return e?0:2},availableLanguages:function(e){return e?[2]:[0,2]}};function Y(e){return{fullMsg:B.EP("fullMsg",B.Z_,e),shortMsg:B.EP("shortMsg",B.Z_,e),row:B.EP("row",B.G6,e),column:B.EP("column",B.G6,e),endRow:B.EP("endRow",B.G6,e),endColumn:B.EP("endColumn",B.G6,e)}}function Q(e){return String(e.row)+"-"+String(e.endRow)+"-"+String(e.column)+"-"+String(e.endColumn)}function ee(e){for(var r={},t=0,n=e.length;t<n;++t){var o=e[t];r[Q(o)]=o}return T.VO(r)}function re(e){var r=B.EP("warnNumber",B.G6,e),t=Y(e);return B.EP("isError",B.Xg,e)?(0,n.Z)({TAG:1,warnNumber:r,details:t},Symbol.for("name"),"WarnErr"):(0,n.Z)({TAG:0,warnNumber:r,details:t},Symbol.for("name"),"Warn")}function te(e){return{msg:B.EP("msg",B.Z_,e),warn_flags:B.EP("warn_flags",B.Z_,e),warn_error_flags:B.EP("warn_error_flags",B.Z_,e)}}function ne(e){return{line:B.EP("line",B.G6,e),col:B.EP("col",B.G6,e)}}function oe(e){var r={start:B.EP("start",ne,e),end:B.EP("end",ne,e),hint:B.EP("hint",B.Z_,e)},t=B.EP("kind",B.Z_,e);switch(t){case"binding":return(0,n.Z)({TAG:2,_0:r},Symbol.for("name"),"Binding");case"core_type":return(0,n.Z)({TAG:3,_0:r},Symbol.for("name"),"CoreType");case"expression":return(0,n.Z)({TAG:1,_0:r},Symbol.for("name"),"Expression");case"type_declaration":return(0,n.Z)({TAG:0,_0:r},Symbol.for("name"),"TypeDeclaration");default:throw{RE_EXN_ID:B._9,_1:'Unknown kind "'+t+'" type hint',Error:new Error}}}function ae(e,r){return{js_code:B.EP("js_code",B.Z_,r),warnings:B.EP("warnings",(function(e){return B.IX(re,e)}),r),type_hints:B.Wc([],(function(e){return B.EP("type_hints",(function(e){return B.IX(oe,e)}),e)}),r),time:e}}function ie(e){return{code:B.EP("code",B.Z_,e),fromLang:B.EP("fromLang",$,e),toLang:B.EP("toLang",$,e)}}function se(e){var r=B.EP("type",B.Z_,e);switch(r){case"other_error":var t=B.EP("errors",(function(e){return B.IX(Y,e)}),e);return(0,n.Z)({TAG:4,_0:t},Symbol.for("name"),"OtherErr");case"syntax_error":var o=B.EP("errors",(function(e){return B.IX(Y,e)}),e);return(0,n.Z)({TAG:0,_0:ee(o)},Symbol.for("name"),"SyntaxErr");case"type_error":var a=B.EP("errors",(function(e){return B.IX(Y,e)}),e);return(0,n.Z)({TAG:1,_0:a},Symbol.for("name"),"TypecheckErr");case"warning_error":var i=B.EP("errors",(function(e){return B.IX(re,e)}),e);return(0,n.Z)({TAG:2,_0:i},Symbol.for("name"),"WarningErr");case"warning_flag_error":var s=te(e);return(0,n.Z)({TAG:3,_0:s},Symbol.for("name"),"WarningFlagErr");default:throw{RE_EXN_ID:B._9,_1:'Unknown type "'+r+'" in CompileFail result',Error:new Error}}}function ce(e,r){try{switch(B.EP("type",B.Z_,r)){case"success":return(0,n.Z)({TAG:1,_0:ae(e,r)},Symbol.for("name"),"Success");case"unexpected_error":return(0,n.Z)({TAG:2,_0:B.EP("msg",B.Z_,r)},Symbol.for("name"),"UnexpectedError");default:return(0,n.Z)({TAG:0,_0:se(r)},Symbol.for("name"),"Fail")}}catch(o){var t=O.UW(o);if(t.RE_EXN_ID===B._9)return(0,n.Z)({TAG:3,_0:t._1,_1:r},Symbol.for("name"),"Unknown");throw t}}function ue(e,r,t){try{var o=B.EP("type",B.Z_,t);switch(o){case"success":return(0,n.Z)({TAG:0,_0:ie(t)},Symbol.for("name"),"Success");case"syntax_error":var a=B.EP("errors",(function(e){return B.IX(Y,e)}),t);return(0,n.Z)({TAG:1,fromLang:e,toLang:r,details:a},Symbol.for("name"),"Fail");case"unexpected_error":return(0,n.Z)({TAG:2,_0:B.EP("msg",B.Z_,t)},Symbol.for("name"),"UnexpectedError");default:return(0,n.Z)({TAG:3,_0:'Unknown conversion result type "'+o+'"',_1:t},Symbol.for("name"),"Unknown")}}catch(s){var i=O.UW(s);if(i.RE_EXN_ID===B._9)return(0,n.Z)({TAG:3,_0:i._1,_1:t},Symbol.for("name"),"Unknown");throw i}}var le={version:function(e){return e.version},resVersion:function(e){return e.rescript.version},resCompile:function(e,r){var t=performance.now(),n=e.rescript.compile(r);return ce(performance.now()-t,n)},resFormat:function(e,r){return ue(2,2,e.rescript.format(r))},reasonVersion:function(e){return e.reason.version},reasonCompile:function(e,r){var t=performance.now(),n=e.reason.compile(r);return ce(performance.now()-t,n)},reasonFormat:function(e,r){return ue(0,0,e.reason.format(r))},ocamlVersion:function(e){return e.ocaml.version},ocamlCompile:function(e,r){var t=performance.now(),n=e.ocaml.compile(r);return ce(performance.now()-t,n)},getConfig:function(e){return e.getConfig()},setFilename:function(e,r){return e.setFilename(r)},setModuleSystem:function(e,r){return e.setModuleSystem(r)},setWarnFlags:function(e,r){return e.setWarnFlags(r)},setConfig:function(e,r){var t;switch(r.module_system){case"es6":t="es6";break;case"nodejs":t="nodejs";break;default:t=void 0}d.Ed(t,(function(r){e.setModuleSystem(r)})),e.setWarnFlags(r.warn_flags)},convertSyntax:function(e,r,t,o){try{return ue(e,r,o.convertSyntax(J(e),J(r),t))}catch(s){var a=O.UW(s);if(a.RE_EXN_ID===j.lC){var i=a._1.message;return void 0!==i?(0,n.Z)({TAG:2,_0:i},Symbol.for("name"),"UnexpectedError"):(0,n.Z)({TAG:2,_0:""},Symbol.for("name"),"UnexpectedError")}throw a}}};function fe(e){return new Promise((function(r,t){!function(e,r,t){if(H){var n=document.createElement("script");n.setAttribute("src",e),n.addEventListener("load",r),n.addEventListener("error",t),document.body.appendChild(n)}}(e,(function(e){return r((0,n.Z)({TAG:0,_0:void 0},Symbol.for("name"),"Ok"))}),(function(t){return r((0,n.Z)({TAG:1,_0:"Could not load script: "+e},Symbol.for("name"),"Error"))}))}))}var me=["v9.1.2","v9.0.2","v9.0.1","v9.0.0","v8.4.2","v8.3.0-dev.2"];function de(e){return"https://cdn.rescript-lang.org/"+e+"/compiler.js"}function ge(e,r){return"https://cdn.rescript-lang.org/"+e+"/"+r+"/cmij.js"}function ve(e,r,t){var o=de(e);return fe(o).then((function(e){return 0===e.TAG?e:(0,n.Z)({TAG:1,_0:"Could not load compiler from url "+o},Symbol.for("name"),"Error")})).then((function(t){var o;return o=0===t.TAG?f.UI(r,(function(r){var t=ge(e,r);return fe(t).then((function(e){return 0===e.TAG?e:(0,n.Z)({TAG:1,_0:"Could not load cmij from url "+t},Symbol.for("name"),"Error")}))})):[Promise.resolve((0,n.Z)({TAG:1,_0:t._0},Symbol.for("name"),"Error"))],Promise.all(o)})).then((function(e){var r=f.fe(e,(function(e){return 0===e.TAG?void 0:e._0}));return 0!==r.length?(0,n.Z)({TAG:1,_0:r},Symbol.for("name"),"Error"):(0,n.Z)({TAG:0,_0:void 0},Symbol.for("name"),"Ok")}))}function pe(e,r,t){var o=void 0!==e?e:2,a=l.useState((function(){return 0})),i=a[1],s=a[0],c=function(e){return u._1(i,(function(r){var t=e._0;if("number"===typeof r)return(0,n.Z)({TAG:0,_0:t},Symbol.for("name"),"SetupFailed");if(2!==r.TAG)return(0,n.Z)({TAG:0,_0:t},Symbol.for("name"),"SetupFailed");var o=r._0;return(0,n.Z)({TAG:2,_0:{versions:o.versions,selected:o.selected,targetLang:o.targetLang,errors:o.errors.concat([t]),result:o.result}},Symbol.for("name"),"Ready")}))};return l.useEffect((function(){if("number"===typeof s)if(0!==me.length){var e=m.U2(me,0),r=["@rescript/react"];ve(e,r).then((function(t){if(0===t.TAG){var a=rescript_compiler.make(),s=q.fromString(rescript_compiler.api_version),l=le.getConfig(a),f=le.version(a),m=le.ocamlVersion(a),v=le.reasonVersion(a),p={id:e,apiVersion:s,compilerVersion:f,ocamlVersion:m,reasonVersion:v,libraries:r,config:l,instance:a},b=d.tj(g._2(q.availableLanguages(s).find((function(e){return e===o}))),q.defaultTargetLang(s));return u._1(i,(function(e){return(0,n.Z)({TAG:2,_0:{versions:me,selected:p,targetLang:b,errors:[],result:0}},Symbol.for("name"),"Ready")}))}var y=t._0.join("; ");return c((0,n.Z)({TAG:1,_0:y},Symbol.for("name"),"CompilerLoadingError"))}))}else c((0,n.Z)({TAG:0,_0:"No compiler versions found"},Symbol.for("name"),"SetupError"));else switch(0|s.TAG){case 1:var t=s._1,a=s._0,l=function(e,r){var t=V.nI(e.split("."));if(!t)return r;var n=d.tj(Z.m(t.hd.replace("v","")),0);return f.UI(r,(function(e){return n>=9?"reason-react"===e?"@rescript/react":e:"@rescript/react"===e?"reason-react":e}))}(t,s._2);ve(t,l).then((function(e){if(0===e.TAG){X(de(a.selected.id)),f.Ed(a.selected.libraries,(function(e){X(ge(a.selected.id,e))}));var r=rescript_compiler.make(),o=q.fromString(rescript_compiler.api_version),s=le.getConfig(r),m=le.version(r),d=le.ocamlVersion(r),g=le.reasonVersion(r),v={id:t,apiVersion:o,compilerVersion:m,ocamlVersion:d,reasonVersion:g,libraries:l,config:s,instance:r};return u._1(i,(function(e){return(0,n.Z)({TAG:2,_0:{versions:a.versions,selected:v,targetLang:q.defaultTargetLang(o),errors:[],result:0}},Symbol.for("name"),"Ready")}))}var p=e._0.join("; ");return c((0,n.Z)({TAG:1,_0:p},Symbol.for("name"),"CompilerLoadingError"))}));break;case 0:case 2:break;case 3:var v,p=s._1,b=p[1],y=s._0,_=y.selected.apiVersion,h=y.selected.instance;if(_)v=(0,n.Z)({TAG:2,_0:"Can't handle result of compiler API version \""+_._0+'"'},Symbol.for("name"),"UnexpectedError");else switch(p[0]){case 0:v=le.reasonCompile(h,b);break;case 1:v=le.ocamlCompile(h,b);break;case 2:v=le.resCompile(h,b)}u._1(i,(function(e){return(0,n.Z)({TAG:2,_0:{versions:y.versions,selected:y.selected,targetLang:y.targetLang,errors:y.errors,result:(0,n.Z)({TAG:1,_0:v},Symbol.for("name"),"Comp")}},Symbol.for("name"),"Ready")}))}}),[s]),[s,function(e){switch(d.Ed(r,(function(r){return u._1(r,e)})),0|e.TAG){case 0:var t=e.libraries,o=e.id;if("number"===typeof s)return;if(2!==s.TAG)return;var a=s._0;return a.selected.id!==o?u._1(i,(function(e){return(0,n.Z)({TAG:1,_0:a,_1:o,_2:t},Symbol.for("name"),"SwitchingCompiler")})):void 0;case 1:var c=e.code,l=e.lang;if("number"===typeof s)return;if(2!==s.TAG)return;var f=s._0,m=f.selected.instance,v=q.availableLanguages(f.selected.apiVersion),p=f.targetLang;return d.Ed(g._2(v.find((function(e){return e===l}))),(function(e){var r;if(f.selected.apiVersion)r=[0,e];else{var t;switch(p){case 0:t=e>=2?le.convertSyntax(0,2,c,m):void 0;break;case 1:t=void 0;break;case 2:t=0!==e?void 0:le.convertSyntax(2,0,c,m)}if(void 0!==t)if(0===t.TAG)r=[(0,n.Z)({TAG:0,_0:t},Symbol.for("name"),"Conv"),e];else{var o=le.convertSyntax(e,e,c,m);r=[(0,n.Z)({TAG:0,_0:o},Symbol.for("name"),"Conv"),e]}else r=[0,e]}var a=r[1],s=r[0];return u._1(i,(function(e){return(0,n.Z)({TAG:2,_0:{versions:f.versions,selected:f.selected,targetLang:a,errors:[],result:s}},Symbol.for("name"),"Ready")}))}));case 2:var b=e._0;if("number"===typeof s)return;if(2!==s.TAG)return;var y,_=s._0,h=_.selected.instance;switch(_.targetLang){case 0:y=le.reasonFormat(h,b);break;case 1:y=void 0;break;case 2:y=le.resFormat(h,b)}var E=void 0===y||0===y.TAG&&b===y._0.code?_.result:(0,n.Z)({TAG:0,_0:y},Symbol.for("name"),"Conv");return u._1(i,(function(e){return(0,n.Z)({TAG:2,_0:{versions:_.versions,selected:_.selected,targetLang:_.targetLang,errors:[],result:E}},Symbol.for("name"),"Ready")}));case 3:var w=e._1,k=e._0;if("number"===typeof s)return;if(2!==s.TAG)return;var x=s._0;return u._1(i,(function(e){return(0,n.Z)({TAG:3,_0:x,_1:[k,w]},Symbol.for("name"),"Compiling")}));case 4:var T=e._0;if("number"===typeof s)return;if(2!==s.TAG)return;var S=s._0;return le.setConfig(S.selected.instance,T),u._1(i,(function(e){var r=S.selected,t=r.id,o=r.apiVersion,a=r.compilerVersion,i=r.ocamlVersion,s=r.reasonVersion,c=r.libraries,u=r.instance,l={id:t,apiVersion:o,compilerVersion:a,ocamlVersion:i,reasonVersion:s,libraries:c,config:T,instance:u};return(0,n.Z)({TAG:2,_0:{versions:S.versions,selected:l,targetLang:S.targetLang,errors:S.errors,result:S.result}},Symbol.for("name"),"Ready")}))}}]}for(var be=t(42333),ye=[[1,"Suspicious-looking start-of-comment mark."],[2,"Suspicious-looking end-of-comment mark."],[3,"Deprecated feature."],[4,"Fragile pattern matching: matching that will remain complete even if additional constructors are added to one of the variant types matched."],[5,"Partially applied function: expression whose result has function type and is ignored."],[6,"Label omitted in function application."],[7,"Method overridden."],[8,"Partial match: missing cases in pattern-matching."],[9,"Missing fields in a record pattern."],[10,'Expression on the left-hand side of a sequence that doesn\'t have type "unit" (and that is not a function, see warning number 5).'],[11,"Redundant case in a pattern matching (unused match case)."],[12,"Redundant sub-pattern in a pattern-matching."],[13,"Instance variable overridden."],[14,"Illegal backslash escape in a string constant."],[15,"Private method made public implicitly."],[16,"Unerasable optional argument."],[17,"Undeclared virtual method."],[18,"Non-principal type."],[19,"Type without principality."],[20,"Unused function argument."],[21,"Non-returning statement."],[22,"Preprocessor warning."],[23,'Useless record "with" clause.'],[24,"Bad module name: the source file name is not a valid OCaml module name."],[25,"Deprecated: now part of warning 8."],[26,'Suspicious unused variable: unused variable that is bound with "let" or "as", and doesn\'t start with an underscore ("_") character.'],[27,'Innocuous unused variable: unused variable that is not bound with "let" nor "as", and doesn\'t start with an underscore ("_") character.'],[28,"Wildcard pattern given as argument to a constant constructor."],[29,"Unescaped end-of-line in a string constant (non-portable code)."],[30,"Two labels or constructors of the same name are defined in two mutually recursive types."],[31,"A module is linked twice in the same executable."],[32,"Unused value declaration."],[33,"Unused open statement."],[34,"Unused type declaration."],[35,"Unused for-loop index."],[36,"Unused ancestor variable."],[37,"Unused constructor."],[38,"Unused extension constructor."],[39,"Unused rec flag."],[40,"Constructor or label name used out of scope."],[41,"Ambiguous constructor or label name."],[42,"Disambiguated constructor or label name (compatibility warning)."],[43,"Nonoptional label applied as optional."],[44,"Open statement shadows an already defined identifier."],[45,"Open statement shadows an already defined label or constructor."],[46,"Error in environment variable."],[47,"Illegal attribute payload."],[48,"Implicit elimination of optional arguments."],[49,"Absent cmi file when looking up module alias."],[50,"Unexpected documentation comment."],[51,"Warning on non-tail calls if @tailcall present."],[52,"Fragile constant pattern."],[53,"Attribute cannot appear in this context"],[54,"Attribute used more than once on an expression"],[55,"Inlining impossible"],[56,"Unreachable case in a pattern-matching (based on type information)."],[57,"Ambiguous or-pattern variables under guard"],[58,"Missing cmx file"],[59,"Assignment to non-mutable value"],[60,"Unused module declaration"],[61,"Unboxable type in primitive declaration"],[62,"Type constraint on GADT type declaration"],[101,"BuckleScript warning: Unused bs attributes"],[102,"BuckleScript warning: polymorphic comparison introduced (maybe unsafe)"],[103,"BuckleScript warning: about fragile FFI definitions"],[104,"BuckleScript warning: bs.deriving warning with customized message "],[105,"BuckleScript warning: the external name is inferred from val name is unsafe from refactoring when changing value name"],[106,"BuckleScript warning: Unimplemented primitive used:"],[107,"BuckleScript warning: Integer literal exceeds the range of representable integers of type int"],[108,"BuckleScript warning: Uninterpreted delimiters (for unicode)"],[109,"Toplevel expression has unit type"]],_e=[],he=1;he<=108;++he)_e.push(he);var Ee=[["a","All flags"]];function we(e){var r=f.UI(ye,(function(e){return[String(e[0]),e[1]]}));return f.zo(Ee,r)}function ke(e){var r=Z.m(e);if(void 0!==r){var t=function(e){return d.UI(g._2(ye.find((function(r){return e===r[0]}))),(function(e){return e[1]}))}(r);return void 0!==t?[[e,t]]:[]}var n=e.toLowerCase();return f.Cn(Ee,(function(e){return e[0]===n}))}var xe=be.Ue("WarningFlagDescription.Parser.InvalidInput");function Te(e){for(var r,t=[],o=0,a=0,i=e.length-1|0;o<=i;){var s,c=e[o],u=a;if(u){var l=u.acc,f=u.modifier,m=(o+1|0)<i?e[o+1|0]:c;if("+"===(r=c)||"-"===r)throw{RE_EXN_ID:xe,_1:"'+' and '-' not allowed in flag name on pos "+String(o),Error:new Error};if("+"===m||"-"===m||o>=i){var d={enabled:"+"===f,flag:l+c};t.push(d),s=0}else s=(0,n.Z)({modifier:f,acc:l+c},Symbol.for("name"),"ParseFlag")}else{if("+"!==c&&"-"!==c)throw{RE_EXN_ID:xe,_1:"Expected '+' or '-' on pos "+String(o),Error:new Error};s=(0,n.Z)({modifier:c,acc:""},Symbol.for("name"),"ParseFlag")}a=s,o=o+1|0}var g=a;if(g&&""===g.acc)throw{RE_EXN_ID:xe,_1:"Expected flag name after '"+g.modifier+"' on pos "+String(o),Error:new Error};return t}var Se={parse:function(e){try{return(0,n.Z)({TAG:0,_0:Te(e)},Symbol.for("name"),"Ok")}catch(t){var r=O.UW(t);if(r.RE_EXN_ID===xe)return(0,n.Z)({TAG:1,_0:r._1},Symbol.for("name"),"Error");throw r}},merge:function(e,r){var t=T.nI(f.UI(e.slice(),(function(e){return[e.flag,e]})));return f.Ed(r,(function(e){t[e.flag]=e})),T.VO(t).sort((function(e,r){var t=e.flag,n=r.flag,o=Number.isNaN(Number(t)),a=Number.isNaN(Number(n));return o?a?0|t.localeCompare(n):-1:a?1:0|t.localeCompare(n)}))},tokensToString:function(e){return e.map((function(e){return(e.enabled?"+":"-")+e.flag})).join("")}};function Ae(e){var r=e.onChange,t=e.name,n=e.value,o=e.disabled,a=e.children,i=void 0!==o&&o,s=i?" opacity-50":"";return l.createElement("select",{className:"text-14 bg-transparent border border-gray-80 inline-block rounded px-4 py-1 font-semibold"+s,disabled:i,name:t,value:n,onChange:r},a)}function Ge(e){var r=e.onChange,t=e.values,n=e.toLabel,o=e.selected,a=e.disabled,i=void 0!==a&&a,s=0===t.length?[o]:t,c=f._n(s,(function(e){return e===o})),m=void 0!==c?c:0,d=f.Su(s,(function(e,t){var o=e===m?"bg-fire text-white font-bold":"bg-gray-80 opacity-50",a=u._1(n,t);return l.createElement("button",{key:a,className:"mr-1 px-2 py-1 rounded inline-block  "+o,disabled:i,onClick:function(e){},onMouseDown:function(t){if(t.preventDefault(),t.stopPropagation(),e!==m){var n=f.U2(s,e);return void 0!==n?u._1(r,g.xt(n)):void 0}}},a)}));return l.createElement("div",{className:(i?"opacity-25":"")+"flex w-full"},d)}function Ze(e){return"flex items-center h-12 px-4 pr-24 "+(e?"text-fire font-medium bg-gray-100 hover:cursor-default":"hover:cursor-pointer")}function Ne(e){var r=e.disabled,t=e.tabs,n=e.makeTabClass,o=e.selected,a=void 0!==r&&r,i=void 0!==n?n:Ze,s=void 0!==o?o:0,c=l.useState((function(){return s<0||s>=t.length?0:s})),m=c[1],d=c[0];l.useEffect((function(){u._1(m,(function(e){return s}))}),[s]);var g=f.Su(t,(function(e,r){var t=r.title,n=d===e,o=u._1(i,n);return l.createElement("button",{key:String(e)+"-"+t,className:o,disabled:a,onClick:function(e){},onMouseDown:function(r){return r.preventDefault(),r.stopPropagation(),u._1(m,(function(r){return e}))}},t)})),v=f.Su(t,(function(e,r){var t=d===e?"block h-full":"hidden";return l.createElement("div",{key:String(e),className:t},r.content)}));return l.createElement("div",void 0,l.createElement("div",void 0,l.createElement("div",{className:"flex bg-gray-100 w-full "+(a?"opacity-50":"")},g),l.createElement("div",void 0,v)))}function Ce(e){var r=e.actionIndicatorKey,t=e.state;if("number"===typeof t)return null;switch(0|t.TAG){case 2:case 3:break;default:return null}var n,o=t._0,a=o.result;if("number"===typeof a)n="bg-turtle-dark";else if(0===a.TAG)n=0===a._0.TAG?"bg-turtle-dark":"bg-fire-70";else{var i=a._0;n=1===i.TAG?0===i._0.warnings.length?"bg-turtle-dark":"bg-orange":"bg-fire-70"}return l.createElement("div",{className:"py-2 pb-3 flex items-center text-white "+n},l.createElement("div",{className:"flex items-center font-medium px-4"},l.createElement("div",{key:r,className:"pr-4 animate-pulse"},function(e,r){var t,n="text-white-80",o="text-white font-bold",a="text-white-80";if("number"===typeof r)t=[a,"Ready"];else if(0===r.TAG)switch(0|r._0.TAG){case 0:t=[a,"Format Successful"];break;case 1:t=[n,"Syntax Errors"];break;case 2:t=[n,"Unexpected Error"];break;case 3:t=[n,"Unknown Result"]}else{var i=r._0;switch(0|i.TAG){case 0:switch(0|i._0.TAG){case 0:t=[n,"Syntax Errors ("+K.toString(e)+")"];break;case 1:t=[n,"Type Errors"];break;case 2:t=[o,"Warning Errors"];break;case 3:t=[n,"Config Error"];break;case 4:t=[n,"Errors"]}break;case 1:var s=i._0.warnings.length;t=0===s?[a,"Compiled successfully"]:[o,"Compiled with "+String(s)+" Warning(s)"];break;case 2:t=[n,"Unexpected Error"];break;case 3:t=[n,"Unknown Result"]}}return l.createElement("span",{className:t[0]},t[1])}(o.targetLang,a))))}function Ue(e){var r=e.className,t=e.children,n=void 0!==r?r:"";return l.createElement("pre",{className:"whitespace-pre-wrap "+n},t)}function Ie(e,r,t){var n="W"===r?"text-orange":"text-fire",o="W"===r?"[W]":"[E]",a=void 0!==e&&e?"W"===r?"bg-orange-15":"bg-fire-90 rounded":"";return l.createElement("div",{className:"font-mono mb-4 pb-6 last:mb-0 last:pb-0 last:border-0 border-b border-gray-80 "},l.createElement("div",{className:"p-2 "+a},l.createElement("span",{className:n},o),l.createElement("span",{className:"font-medium text-gray-40"}," Line "+t.row+", column "+t.column+":"),l.createElement(x,{className:"whitespace-pre-wrap ",children:t.shortMsg})))}function Re(e,r){return void 0!==e&&e[0]===r.row&&e[1]===r.column}function Pe(e,r){if(void 0===e)return r;var t=e[1],n=e[0],o=f.Cn(r,(function(e){return n===e.row&&t===e.column}));return 0===o.length?r:o}function De(e,r){if(void 0===e)return r;var t=e[1],n=e[0],o=f.Cn(r,(function(e){var r=e.details;return n===r.row&&t===r.column}));return 0===o.length?r:o}function Fe(e){var r=e.targetLang,t=e.compilerVersion,n=e.focusedRowCol,o=e.result;return l.createElement("div",{className:"pt-4 bg-gray-95 overflow-y-auto hide-scrollbar"},l.createElement("div",{className:"flex items-center text-16 font-medium px-4"},l.createElement("div",{className:"pr-4"},function(e){var r,t="text-fire",n="text-orange",o="text-turtle-dark";if("number"===typeof e)r=[o,"Ready"];else if(0===e.TAG)switch(0|e._0.TAG){case 0:r=[o,"Format Successful"];break;case 1:r=[t,"Syntax Errors"];break;case 2:r=[t,"Unexpected Error"];break;case 3:r=[t,"Unknown Result"]}else{var a=e._0;switch(0|a.TAG){case 0:switch(0|a._0.TAG){case 0:r=[t,"Syntax Errors"];break;case 1:r=[t,"Type Errors"];break;case 2:r=[n,"Warning Errors"];break;case 3:r=[t,"Config Error"];break;case 4:r=[t,"Errors"]}break;case 1:var i=a._0.warnings.length;r=0===i?[o,"Compiled successfully"]:[n,"Compiled with "+String(i)+" Warning(s)"];break;case 2:r=[t,"Unexpected Error"];break;case 3:r=[t,"Unknown Result"]}}return l.createElement("span",{className:r[0]},r[1])}(o))),l.createElement("div",{className:""},l.createElement("div",{className:"bg-gray-95 text-gray-10 px-4 py-4"},function(e,r,t,n){var o,a;if("number"===typeof n){var i=K.toString(r);return l.createElement(Ue,{children:"This playground is now running on compiler version "+t+" with "+i+" syntax"})}if(0===n.TAG){var s=n._0;switch(0|s.TAG){case 0:var u,m=s._0,d=m.toLang;return u=m.fromLang===d?"Formatting completed with 0 errors":"Switched to "+K.toString(d)+" with 0 errors",l.createElement(Ue,{children:u});case 1:var g,v=s.toLang,p=s.fromLang,b=f.Su(Pe(e,s.details),(function(r,t){return l.createElement("div",{key:String(r)},Ie(Re(e,t),"E",t))}));return g=p===v?"The code is not valid "+K.toString(v)+" syntax.":'Could not convert from "'+K.toString(p)+'" to "'+K.toString(v)+'" due to malformed syntax:',l.createElement("div",void 0,l.createElement(Ue,{className:"text-16 mb-4",children:g}),b);case 2:return s._0;case 3:o=s._0,a=s._1}}else{var y=n._0;switch(0|y.TAG){case 0:var _=y._0;switch(0|_.TAG){case 2:return f.Su(De(e,_._0),(function(r,t){var n,o=(n=0===t.TAG?["W",t.details]:["E",t.details])[1];return l.createElement("div",{key:String(r)},Ie(Re(e,o),n[0],o))}));case 3:return l.createElement("div",void 0,"There are some issues with your compiler flag configuration:",_._0.msg);default:return f.Su(Pe(e,_._0),(function(r,t){return l.createElement("div",{key:String(r)},Ie(Re(e,t),"E",t))}))}case 1:var h=y._0.warnings;return 0===h.length?l.createElement(Ue,{children:"0 Errors, 0 Warnings"}):f.Su(De(e,h),(function(r,t){var n,o=(n=0===t.TAG?["W",t.details]:["E",t.details])[1];return l.createElement("div",{key:String(r)},Ie(Re(e,o),n[0],o))}));case 2:return y._0;case 3:o=y._0,a=y._1}}var E="font-bold text-gray-40 text-16";return l.createElement("div",void 0,l.createElement(Ue,{children:null},"The compiler bundle API returned a result that couldn't be interpreted. Please open an issue on our ",l.createElement(S.A.make,{href:"https://github.com/rescript-association/rescript-lang.org/issues",target:"_blank",children:"issue tracker"}),"."),l.createElement("div",{className:"mt-4"},l.createElement(Ue,{children:null},l.createElement("div",{className:E},"Message: "),o)),l.createElement("div",{className:"mt-4"},l.createElement(Ue,{children:null},l.createElement("span",{className:E},"Received JSON payload:"),l.createElement("div",void 0,c.Ph.prettyStringify(a)))))}(n,r,t,o))))}function Le(e,r){var t;if(""===r)t=0;else{var o=r.length-1|0,a=r[o],i=0;switch(a){case"+":case"-":i=1;break;default:var s=Se.parse(r);if(0===s.TAG){var c=s._0,u=f.U2(c,c.length-1|0);if(void 0!==u){var l=function(e){var r=f.Cn(Ee,(function(r){return r[0].startsWith(e)})),t=f.UI(f.Cn(ye,(function(r){return String(r[0]).startsWith(e)})),(function(e){return[String(e[0]),e[1]]}));return f.zo(r,t)}(u.flag);if(0===l.length)t=(0,n.Z)({TAG:1,_0:"No results"},Symbol.for("name"),"ErrorSuggestion");else{var m=f.tP(c,0,c.length-1|0),d=u.enabled?"+":"-";t=(0,n.Z)({TAG:0,modifier:d,precedingTokens:m,results:l,selected:0},Symbol.for("name"),"FuzzySuggestions")}}else t=0}else{var g=0;switch(r){case"+":case"-":g=2;break;default:t=(0,n.Z)({TAG:1,_0:s._0},Symbol.for("name"),"ErrorSuggestion")}if(2===g){var v=we();t=(0,n.Z)({TAG:0,modifier:r,precedingTokens:[],results:v,selected:0},Symbol.for("name"),"FuzzySuggestions")}}}if(1===i){var p,b=we(),y=r.substring(0,o),_=Se.parse(y);p=0===_.TAG?_._0:[],t=(0,n.Z)({TAG:0,modifier:a,precedingTokens:p,results:b,selected:0},Symbol.for("name"),"FuzzySuggestions")}}switch(0|e.TAG){case 0:case 1:case 2:return(0,n.Z)({TAG:2,suggestion:t,input:r},Symbol.for("name"),"Typing")}}function We(e){var r,t=e.onUpdate,a=e.flags,i=l.useState((function(){return(0,n.Z)({TAG:0,input:""},Symbol.for("name"),"HideSuggestion")})),s=i[1],c=i[0],m=l.useRef(null),v=l.useRef(null),p=f.Su(a,(function(e,r){var o,i=r.flag,m=r.enabled;switch(0|c.TAG){case 1:o=c.token.flag===i;break;case 0:case 2:o=!1}var d,v,p=(m?"+":"-")+i,b=m?o?"bg-gray-40 text-turtle-dark":"text-turtle-dark":o?"bg-gray-40 text-fire":"text-fire";switch(0|c.TAG){case 0:d=!1;break;case 1:case 2:d=!0}if(d){v=[function(e){return e.preventDefault(),e.stopPropagation(),u._1(s,(function(e){return(0,n.Z)({TAG:1,lastState:e,token:r},Symbol.for("name"),"ShowTokenHint")}))},function(e){return e.preventDefault(),e.stopPropagation(),u._1(s,(function(e){switch(0|e.TAG){case 1:return e.lastState;case 0:case 2:return e}}))}]}else v=[void 0,void 0];var y={key:String(e)+i,className:b+" hover:cursor-default text-16 inline-block border border-gray-40 rounded-full px-2 mr-1",onClick:function(e){return e.preventDefault(),u._1(t,f.Cn(a,(function(e){return e.flag!==i})))}},_=v[0];void 0!==_&&(y.onMouseEnter=g.xt(_));var h=v[1];return void 0!==h&&(y.onMouseLeave=g.xt(h)),l.createElement("span",y,p)}));switch(0|c.TAG){case 0:r=void 0;break;case 1:var b=c.token;r=g.G(f.UI(ke(b.flag),(function(e){var r=b.enabled?["(Enabled) ","text-turtle-dark"]:["(Disabled) ","text-fire"];return l.createElement("div",{key:e[0]},l.createElement("span",{className:r[1]},r[0]),e[1])})));break;case 2:var y,_=c.suggestion;if("number"===typeof _)y="Type + / - followed by a number or letter (e.g. +a+1)";else if(0===_.TAG){var h=_.selected,E=_.precedingTokens,w=_.modifier;y=f.Su(_.results,(function(e,r){var t=r[0],o=h===e?"bg-gray-40":"",a=h===e?g.G((function(e){var r=m.current;if(null!=r&&null!=e){if(r.scrollHeight<=r.clientHeight)return;var t=r.clientHeight+r.scrollTop|0,n=e.offsetTop+e.offsetHeight|0;return n>t?void(r.scrollTop=n-r.clientHeight|0):(e.offsetTop-e.offsetHeight|0)<r.scrollTop?void(r.scrollTop=e.offsetTop-e.offsetHeight|0):void 0}})):void 0,i={key:t,className:o,onMouseDown:function(e){return e.preventDefault(),u._1(s,(function(e){switch(0|e.TAG){case 0:case 1:return e;case 2:var r=w+t;return Le(e,Se.tokensToString(E)+r)}}))},onMouseEnter:function(r){return r.preventDefault(),u._1(s,(function(r){switch(0|r.TAG){case 0:case 1:return r;case 2:var t=r.suggestion;return"number"===typeof t||0!==t.TAG?r:(0,n.Z)({TAG:2,suggestion:(0,n.Z)({TAG:0,modifier:t.modifier,precedingTokens:t.precedingTokens,results:t.results,selected:e},Symbol.for("name"),"FuzzySuggestions"),input:c.input},Symbol.for("name"),"Typing")}}))}};return void 0!==a&&(i.ref=g.xt(a)),l.createElement("div",i,w+(t+": ")+r[1])}))}else y=_._0;r=g.G(y)}var k,x,T=d.tj(d.UI(r,(function(e){return l.createElement("div",{ref:m,className:"p-2 absolute overflow-auto z-50 border-b rounded border-l border-r block w-full bg-gray-100",style:{maxHeight:"15rem"}},e)})),null);switch(0|c.TAG){case 0:k=!1;break;case 1:case 2:k=!0}var S=0,A=a.length;if(1!==A)0!==A?S=1:x=null;else{var G=a[0];G.enabled||"a"!==G.flag?S=1:x=null}if(1===S){x=l.createElement("button",{className:"focus:outline-none self-start focus:shadow-outline hover:cursor-pointer hover:bg-gray-40 p-2 rounded-full",tabIndex:0,onFocus:function(e){e.preventDefault(),e.stopPropagation()},onClick:function(e){},onMouseDown:function(e){return e.preventDefault(),u._1(t,[{enabled:!1,flag:"a"}])}},l.createElement(o.x8.make,{}))}var Z,N=k?"border-white":"border-gray-60";switch(0|c.TAG){case 0:Z=c.input;break;case 1:var C=c.lastState;switch(0|C.TAG){case 0:case 1:Z="";break;case 2:Z=C.input}break;case 2:Z=c.input}return l.createElement("div",{className:"relative",tabIndex:-1,onKeyDown:function(e){var r=e.key,o=(e.ctrlKey?"CTRL+":"")+r,i=0;switch(o){case"ArrowLeft":case"ArrowRight":return;case"ArrowDown":case"CTRL+n":i=1;break;case"ArrowUp":case"CTRL+p":i=2;break;case"Enter":switch(0|c.TAG){case 0:case 1:break;case 2:var l=c.suggestion;if("number"!==typeof l&&0===l.TAG){var m=f.U2(l.results,l.selected);if(void 0!==m){var p={enabled:"+"===l.modifier,flag:m[0]},b=f.zo(l.precedingTokens,[p]),y=Se.merge(a,b);u._1(t,y),u._1(s,(function(e){return Le(e,"")}))}}}return void e.preventDefault();case"Escape":return d.Ed(g.Tl(v.current),(function(e){e.blur()}));case"Tab":switch(0|c.TAG){case 0:case 1:return;case 2:var _=c.suggestion;if("number"===typeof _)return;if(0!==_.TAG)return;var h=f.U2(_.results,_.selected);if(void 0!==h){var E=_.modifier+h[0],w=Se.tokensToString(_.precedingTokens)+E;u._1(s,(function(e){return Le(e,w)}))}return void e.preventDefault()}default:switch(0|c.TAG){case 0:case 1:return void console.log(o);case 2:var k=c.suggestion;return"number"===typeof k?void console.log(o):0!==k.TAG?"Backspace"!==o?void e.preventDefault():void 0:void console.log(o)}}switch(i){case 1:return u._1(s,(function(e){switch(0|e.TAG){case 0:case 1:return e;case 2:var r=e.suggestion;if("number"===typeof r)return e;if(0!==r.TAG)return e;var t=r.selected,o=t<(r.results.length-1|0)?t+1|0:0;return(0,n.Z)({TAG:2,suggestion:(0,n.Z)({TAG:0,modifier:r.modifier,precedingTokens:r.precedingTokens,results:r.results,selected:o},Symbol.for("name"),"FuzzySuggestions"),input:e.input},Symbol.for("name"),"Typing")}})),void e.preventDefault();case 2:return u._1(s,(function(e){switch(0|e.TAG){case 0:case 1:return e;case 2:var r=e.suggestion;if("number"===typeof r)return e;if(0!==r.TAG)return e;var t=r.selected,o=t>0?t-1|0:r.results.length-1|0;return(0,n.Z)({TAG:2,suggestion:(0,n.Z)({TAG:0,modifier:r.modifier,precedingTokens:r.precedingTokens,results:r.results,selected:o},Symbol.for("name"),"FuzzySuggestions"),input:e.input},Symbol.for("name"),"Typing")}})),void e.preventDefault()}},onFocus:function(e){if(!k)return d.Ed(g.Tl(v.current),(function(e){e.focus()}))}},l.createElement("div",{className:"flex justify-between border p-2 "+N},l.createElement("div",void 0,p,l.createElement("input",{ref:v,className:"outline-none bg-gray-90 placeholder-gray-20 placeholder-opacity-50",tabIndex:0,placeholder:"Flags",type:"text",value:Z,onFocus:function(e){var r=e.target.value;return u._1(s,(function(e){return Le(e,r)}))},onBlur:function(e){return e.preventDefault(),e.stopPropagation(),u._1(s,(function(e){switch(0|e.TAG){case 0:return e;case 1:var r=e.lastState;switch(0|r.TAG){case 0:case 1:return(0,n.Z)({TAG:0,input:""},Symbol.for("name"),"HideSuggestion");case 2:return(0,n.Z)({TAG:0,input:r.input},Symbol.for("name"),"HideSuggestion")}case 2:return(0,n.Z)({TAG:0,input:e.input},Symbol.for("name"),"HideSuggestion")}}))},onChange:function(e){e.preventDefault();var r=e.target.value;return u._1(s,(function(e){return Le(e,r)}))}})),x),T)}function ze(e){var r=e.readyState,t=e.dispatch,o=e.setConfig,a=e.editorCode,i=e.config,c=q.availableLanguages(r.selected.apiVersion),m=z.tj(Se.parse(i.warn_flags),[]),d="text-18 font-bold mb-2";return l.createElement("div",{className:"p-4 pt-8 bg-gray-95 text-gray-20"},l.createElement("div",void 0,l.createElement("div",{className:d},"ReScript Version"),l.createElement(Ae,{onChange:function(e){e.preventDefault();var o=e.target.value;return u._1(t,(0,n.Z)({TAG:0,id:o,libraries:r.selected.libraries},Symbol.for("name"),"SwitchToCompiler"))},name:"compilerVersions",value:r.selected.id,children:f.UI(r.versions,(function(e){return l.createElement("option",{key:e,className:"py-4",value:e},e)}))})),l.createElement("div",{className:"mt-6"},l.createElement("div",{className:d},"Syntax"),l.createElement(Ge,{onChange:function(e){return u._1(t,(0,n.Z)({TAG:1,lang:e,code:a.current},Symbol.for("name"),"SwitchLanguage"))},values:c,toLabel:function(e){return K.toExt(e).toUpperCase()},selected:r.targetLang})),l.createElement("div",{className:"mt-6"},l.createElement("div",{className:d},"Module-System"),l.createElement(Ge,{onChange:function(e){return u._1(o,{module_system:e,warn_flags:i.warn_flags})},values:["nodejs","es6"],toLabel:function(e){return e},selected:i.module_system})),l.createElement("div",{className:"mt-6"},l.createElement("div",{className:d},"Enabled Libraries"),l.createElement("ul",void 0,f.UI(r.selected.libraries,(function(e){return l.createElement("li",{key:e,className:"ml-2"},e)})))),l.createElement("div",{className:"mt-8"},l.createElement("div",{className:d},"Warning Flags",l.createElement("button",{className:"ml-6 text-14 "+s.r.standalone,onMouseDown:function(e){return e.preventDefault(),u._1(o,{module_system:"nodejs",warn_flags:"+a-4-9-20-40-41-42-50-61-102-109"})}},"[reset]")),l.createElement("div",{className:"flex justify-end"}),l.createElement("div",{style:{maxWidth:"40rem"}},l.createElement(We,{onUpdate:function(e){return u._1(o,{module_system:i.module_system,warn_flags:Se.tokensToString(function(e){return 0!==e.length?e:[{enabled:!1,flag:"a"}]}(e))})},flags:m}))))}function Me(e){var r=e.children,t=e.onClick,n={className:"inline-block text-sky hover:cursor-pointer hover:bg-sky hover:text-white-80 rounded border active:bg-sky-70 border-sky-70 px-2 py-1 "};return void 0!==t&&(n.onClick=g.xt(t)),l.createElement("button",n,r)}"undefined"!==typeof window.navigator&&(t(96876),t(69109),t(4887),t(29993));function Ve(e){var r=e.createShareLink,t=e.actionIndicatorKey,n=l.useState((function(){return 0})),o=n[1];l.useEffect((function(){u._1(o,(function(e){return 0}))}),[t]);var a=n[0]?["Copied to clipboard!","bg-turtle-dark border-turtle-dark"]:["Copy Share Link"," bg-sky active:bg-sky-70 border-sky-70"];return l.createElement(l.Fragment,void 0,l.createElement("button",{className:a[1]+" w-40 transition-all duration-500 ease-in-out inline-block hover:cursor-pointer hover:text-white-80 text-white rounded border px-2 py-1 ",onClick:function(e){if(e.preventDefault(),function(e){try{var r=document.createElement("textarea");r.value=e,r.setAttribute("readonly",""),r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);return r.select(),document.execCommand("copy"),document.body.removeChild(r),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t)),!0}catch(n){return!1}}(u._1(r,void 0)))return u._1(o,(function(e){return 1}))}},a[0]))}function He(e){var r,t=e.actionIndicatorKey,o=e.state,a=e.dispatch,s=e.editorCode,c=i.F0.useRouter(void 0),f=0;if("number"===typeof o)r="Initializing...";else switch(0|o.TAG){case 0:r=null;break;case 1:r="Switching Compiler...";break;case 2:case 3:f=1}if(1===f){var m=o._0;r=l.createElement(l.Fragment,void 0,l.createElement("div",{className:"mr-2"},l.createElement(Me,{children:"Format",onClick:function(e){return e.preventDefault(),u._1(a,(0,n.Z)({TAG:2,_0:s.current},Symbol.for("name"),"Format"))}})),l.createElement(Ve,{createShareLink:function(e){var r=m.targetLang,t=r>=2?[]:[["ext",K.toExt(r)]];t.push(["code",A.compressToEncodedURIComponent(s.current)]);var n=t.map((function(e){return e[0]+"="+e[1]})).join("&"),o=window.location.origin+c.route+"?"+n;return i.F0.replace(c,o),o},actionIndicatorKey:t}))}return l.createElement("div",{className:"flex justify-end items-center h-12 bg-gray-100 px-4"},r)}function Xe(e,r){return{row:r.row,column:r.column,endRow:r.endRow,endColumn:r.endColumn,text:r.shortMsg,kind:e}}function je(e){if("number"===typeof e)return"/* No JS code generated */";if(0===e.TAG)return"/* No JS code generated */";var r=e._0;return 1===r.TAG?r._0.js_code:"/* No JS code generated */"}function Be(e){var r,t,o=e.compilerDispatch,a=e.compilerState,i=e.editorCode,s=l.useRef(void 0),c=s.current;if(void 0!==c){var f=0,m=0;if("number"===typeof a)r=void 0;else switch(0|a.TAG){case 2:"number"===typeof a._0.result?r=void 0:m=2;break;case 3:m=2;break;default:r=void 0}if(2===m)if("number"===typeof c||2!==c.TAG)f=1;else{var d=c._0.result;if("number"!==typeof a)if(2===a.TAG){var g=a._0,v=g.result;r="number"===typeof v||0===v.TAG||1!==v._0.TAG?void 0:je(g.result)}else r="number"===typeof d||0===d.TAG||1!==d._0.TAG?void 0:je(d)}if(1===f&&"number"!==typeof a)if(2===a.TAG){var p=a._0.result;"number"!==typeof p&&(r=0===p.TAG||1!==p._0.TAG?void 0:je(p))}else r=void 0}else r="number"===typeof a||2!==a.TAG?void 0:je(a._0.result);s.current=a;var b=0;if("number"===typeof a)t=null;else switch(0|a.TAG){case 2:case 3:b=1;break;default:t=null}if(1===b){var y=a._0,_=y.result,h=0;"number"===typeof _?h=2:0===_.TAG?0===_._0.TAG?t=null:h=2:1===_._0.TAG?t=null:h=2,2===h&&(t=l.createElement(Fe,{targetLang:y.targetLang,compilerVersion:y.selected.compilerVersion,result:y.result}))}var E,w,k=void 0!==r?[r,!0]:["",!1],x=l.createElement("pre",{className:"whitespace-pre-wrap overflow-y-auto p-4 "+(k[1]?"block":"hidden"),style:{height:"calc(100vh - 11.5rem)"}},M.n(void 0,!0,k[0],"js",void 0)),T=l.createElement("div",{className:"relative w-full bg-gray-95 text-gray-20",style:{height:"calc(100vh - 9rem)"}},t,x);if("number"===typeof a)E=l.createElement("div",void 0,"Initalizing Playground...");else if(0===a.TAG)E=l.createElement("div",void 0,"Setup failed: "+a._0);else{var S=a._0;E=l.createElement(Fe,{targetLang:S.targetLang,compilerVersion:S.selected.compilerVersion,result:S.result})}if("number"===typeof a)w=l.createElement("div",void 0,"Initalizing Playground...");else if(0===a.TAG)w=l.createElement("div",void 0,"Setup failed: "+a._0);else{var A=a._0,G=A.selected.config;w=l.createElement(ze,{readyState:A,dispatch:o,setConfig:function(e){return u._1(o,(0,n.Z)({TAG:4,_0:e},Symbol.for("name"),"UpdateConfig"))},editorCode:i,config:G})}var Z,N=l.useRef(0);if("number"===typeof a)Z=0;else switch(0|a.TAG){case 2:var C=a._0.result;Z="number"===typeof C?1:0===C.TAG?0===C._0.TAG?0:1:1===C._0.TAG?0:1;break;case 3:Z=N.current;break;default:Z=0}N.current=Z;var U=[{title:"JavaScript",content:T},{title:"Problems",content:l.createElement("div",{style:{height:"50%"}},E)},{title:"Settings",content:l.createElement("div",{style:{height:"50%"}},w)}];return l.createElement("div",{className:"h-full bg-gray-95"},l.createElement(Ne,{tabs:U,makeTabClass:function(e){return"flex items-center h-12 px-4 pr-16 "+(e?"text-fire font-medium bg-gray-95 hover:cursor-default":"")}}))}var Oe=function(e){var r,t=i.F0.useRouter(void 0),o="re"===T.U2(t.query,"ext")?0:2,s=T.U2(t.query,"code");if(void 0!==s)r=A.decompressFromEncodedURIComponent(s);else switch(o){case 0:r='Js.log("Hello Reason 3.6!");';break;case 1:case 2:r='module Button = {\n  @react.component\n  let make = (~count: int) => {\n    let times = switch count {\n    | 1 => "once"\n    | 2 => "twice"\n    | n => Belt.Int.toString(n) ++ " times"\n    }\n    let msg = "Click me " ++ times\n\n    <button> {msg->React.string} </button>\n  }\n}\n'}var c=l.useState((function(){return 0})),f=c[1],m=c[0],d=pe(o,(function(e){return u._1(f,(function(e){return e>1e6?0:e+1|0}))})),v=d[1],p=d[0],b=l.useState((function(){return!1})),y=C(),_=l.useState((function(){}))[1],h=l.useRef(r);if("number"!==typeof p&&2===p.TAG){var E=p._0,w=E.result;if("number"===typeof w)u._1(v,(0,n.Z)({TAG:3,_0:E.targetLang,_1:h.current},Symbol.for("name"),"CompileCode"));else if(0===w.TAG){var k=w._0;0===k.TAG&&(h.current=k._0.code)}}var x,S,G,Z=l.useRef(void 0),N=l.useRef((function(e){}));if(l.useEffect((function(){N.current=function(e){return"number"===typeof p||2!==p.TAG?void 0:u._1(v,(0,n.Z)({TAG:3,_0:p._0.targetLang,_1:h.current},Symbol.for("name"),"CompileCode"))}}),[p]),"number"===typeof p)x=[];else if(2===p.TAG){var U=p._0.result;if("number"===typeof U)x=[];else if(0===U.TAG){var I=U._0;x=1===I.TAG?I.details.map((function(e){return Xe("Error",e)})):[]}else{var R=U._0;switch(0|R.TAG){case 0:var P=R._0;switch(0|P.TAG){case 2:x=P._0.map((function(e){return Xe("Warning",e.details)}));break;case 3:x=[];break;default:x=P._0.map((function(e){return Xe("Error",e)}))}break;case 1:x=R._0.warnings.map((function(e){return Xe("Warning",e.details)}));break;case 2:case 3:x=[]}}}else x=[];if("number"===typeof p)S=[];else if(2===p.TAG){var D=p._0.result;if("number"===typeof D)S=[];else if(0===D.TAG)S=[];else{var F=D._0;S=1===F.TAG?F._0.type_hints.map((function(e){var r=e._0.start,t=e._0.end;return{start:{line:r.line,col:r.col},end:{line:t.line,col:t.col},hint:e._0.hint}})):[]}}else S=[];if("number"===typeof p||2!==p.TAG)G="rescript";else switch(p._0.targetLang){case 0:G="reason";break;case 1:case 2:G="rescript"}var z={className:"w-full lg:border-r-2 pl-2 border-gray-80"},M=y>1024?{maxWidth:"65%"}:void 0;return void 0!==M&&(z.style=g.xt(M)),l.createElement(l.Fragment,void 0,l.createElement(a.S,{description:"Try ReScript in the browser",title:"ReScript Playground"}),l.createElement(i.Fb.make,{children:l.createElement("style",void 0,"body { background-color: #010427; } ")}),l.createElement("div",{className:"text-16 bg-gray-100"},l.createElement("div",{className:"text-gray-60 text-14"},l.createElement(W.S,{fixed:!1,overlayState:b}),l.createElement("main",{className:"bg-gray-100 lg:overflow-hidden lg:h-screen",style:{maxHeight:"calc(100vh - 4.5rem)"}},l.createElement("div",{className:"w-full h-full flex flex-col lg:flex-row border-t-2 border-gray-80"},l.createElement("div",z,l.createElement("div",{className:"bg-gray-100 text-gray-20"},l.createElement(He,{actionIndicatorKey:String(m),state:p,dispatch:v,editorCode:h}),l.createElement(L,{errors:x,hoverHints:S,minHeight:"calc(100vh - 10rem)",maxHeight:"calc(100vh - 10rem)",className:"w-full py-4",onChange:function(e){h.current=e;var r=Z.current;void 0!==r&&clearTimeout(g.xt(r));var t=setTimeout((function(e){u._1(N.current,void 0),Z.current=void 0}),100);Z.current=g.G(t)},onMarkerFocus:function(e){return u._1(_,(function(r){return e}))},onMarkerFocusLeave:function(e){return u._1(_,(function(e){}))},value:h.current,mode:G}))),l.createElement("div",{className:"relative w-full overflow-x-hidden h-screen lg:h-auto lg:w-1/2",style:{maxWidth:y>1024?"56rem":"100%"}},l.createElement(Be,{compilerDispatch:v,compilerState:p,editorCode:h}),l.createElement("div",{className:"absolute bottom-0 w-full"},l.createElement(Ce,{actionIndicatorKey:String(m),state:p}))))))))}},89620:function(e,r,t){"use strict";t.d(r,{r:function(){return n},H1:function(){return o},H2:function(){return a},H3:function(){return i}});var n={inline:"no-underline border-b border-gray-95 hover:border-bs-purple text-inherit",standalone:"no-underline text-fire"},o={$$default:"text-gray-95 font-medium tracking-tighter text-42 leading-2"},a={$$default:"text-gray-95 font-semibold text-42 leading-2"},i={$$default:"text-gray-95 font-semibold text-21 leading-2"}},23832:function(e,r,t){"use strict";t.d(r,{_9:function(){return u},Xg:function(){return l},G6:function(){return f},Z_:function(){return m},AG:function(){return d},IX:function(){return g},EP:function(){return v},jt:function(){return p},wE:function(){return b},Wc:function(){return y}});var n=t(73455),o=(t(17726),t(62024)),a=t(92285),i=t(66397),s=t(42333),c=t(70240);var u=s.Ue("Json_decode.DecodeError");function l(e){if("boolean"===typeof e)return e;throw{RE_EXN_ID:u,_1:"Expected boolean, got "+JSON.stringify(e),Error:new Error}}function f(e){var r,t=function(e){if("number"===typeof e)return e;throw{RE_EXN_ID:u,_1:"Expected number, got "+JSON.stringify(e),Error:new Error}}(e);if(r=t,Number.isFinite(r)&&Math.floor(r)===r)return t;throw{RE_EXN_ID:u,_1:"Expected integer, got "+JSON.stringify(e),Error:new Error}}function m(e){if("string"===typeof e)return e;throw{RE_EXN_ID:u,_1:"Expected string, got "+JSON.stringify(e),Error:new Error}}function d(e,r){return null===r?null:o._1(e,r)}function g(e,r){if(Array.isArray(r)){for(var t=r.length,n=new Array(t),a=0;a<t;++a){var i;try{i=o._1(e,r[a])}catch(l){var s=c.UW(l);if(s.RE_EXN_ID===u)throw{RE_EXN_ID:u,_1:s._1+"\n\tin array at index "+String(a),Error:new Error};throw s}n[a]=i}return n}throw{RE_EXN_ID:u,_1:"Expected array, got "+JSON.stringify(r),Error:new Error}}function v(e,r,t){if("object"!==typeof t||Array.isArray(t)||null===t)throw{RE_EXN_ID:u,_1:"Expected object, got "+JSON.stringify(t),Error:new Error};var n=a.U2(t,e);if(void 0===n)throw{RE_EXN_ID:u,_1:"Expected field '"+e+"'",Error:new Error};try{return o._1(r,i.xt(n))}catch(l){var s=c.UW(l);if(s.RE_EXN_ID===u)throw{RE_EXN_ID:u,_1:s._1+"\n\tat field '"+e+"'",Error:new Error};throw s}}function p(e,r){try{return i.G(o._1(e,r))}catch(n){var t=c.UW(n);if(t.RE_EXN_ID===u)return;throw t}}function b(e,r){var t={hd:e,tl:{hd:r,tl:0}};return function(e){return function(e,r){for(var t=e,a=0;;){var i=a,s=t;if(!s){var l=n.OD(i);throw{RE_EXN_ID:u,_1:"All decoders given to oneOf failed. Here are all the errors: "+l+". And the JSON being decoded: "+JSON.stringify(r),Error:new Error}}try{return o._1(s.hd,r)}catch(m){var f=c.UW(m);if(f.RE_EXN_ID===u){a={hd:f._1,tl:i},t=s.tl;continue}throw f}}}(t,e)}}function y(e,r,t){try{return o._1(r,t)}catch(a){var n=c.UW(a);if(n.RE_EXN_ID===u)return e;throw n}}}}]);