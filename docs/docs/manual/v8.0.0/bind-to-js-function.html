<!DOCTYPE html><html><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><link href="/static/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/static/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/static/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="/static/favicon/site.webmanifest" rel="manifest"/><meta content="image/jpeg" property="og:image:type"/><link title="ReScript Blog" href="/blog/feed.xml" rel="alternate" type="application/rss+xml"/><title>Bind to JS Function | ReScript Language Manual</title><meta charSet="utf-8"/><meta content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, minimal-ui" name="viewport"/><meta content="JS interop with functions in ReScript" name="description"/><meta content="" name="keywords"/><link href="/docs/manual/latest/bind-to-js-function" rel="canonical"/><link href="/static/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/static/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/static/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="/static/favicon/site.webmanifest" rel="manifest"/><meta content="ReScript Documentation" property="og:site_name"/><meta content="en_US" property="og:locale"/><meta content="Bind to JS Function | ReScript Language Manual" property="og:title"/><meta content="JS interop with functions in ReScript" property="og:description"/><meta content="Bind to JS Function | ReScript Language Manual" name="twitter:title"/><meta content="JS interop with functions in ReScript" name="twitter:description"/><meta content="@reasonml" name="twitter:site"/><meta content="@ReasonAssoc" name="twitter:creator"/><meta content="image/jpeg" property="og:image:type"/><meta content="summary_large_image" name="twitter:card"/><link title="ReScript Blog" href="/blog/feed.xml" rel="alternate" type="application/rss+xml"/><meta name="next-head-count" content="27"/><link rel="preload" href="/_next/static/css/77f9fdb06768a4e13dfa.css" as="style"/><link rel="stylesheet" href="/_next/static/css/77f9fdb06768a4e13dfa.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-ff8c7ec38065d28e77b4.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-23118dcc1b886e5b49be.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-82e7c4d3c08582bd58e0.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-fb59fb960238de483ba3.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/docs/manual/v8.0.0/bind-to-js-function-8c8cbfb871e10092ecfe.js" as="script"/></head><body><div id="__next"><div class="mt-16 min-w-320 theme-reason"><div class="w-full"><nav class="fixed top-0 z-50 px-4 flex xs:justify-center w-full h-16 bg-gray-90 shadow text-white-80 text-14" id="header" style="min-width:20rem"><div class="flex justify-between items-center h-full w-full max-w-1280"><div class="h-8 w-8 lg:h-10 lg:w-32"><a class="block hover:cursor-pointer w-full h-full flex justify-center items-center font-bold" href="/"><img class="lg:hidden" src="/static/nav-logo@2x.png"/><img class="hidden lg:block" src="/static/nav-logo-full@2x.png"/></a></div><div class="flex items-center xs:justify-between w-full bg-gray-90 sm:h-auto sm:relative"><div class="flex ml-10 space-x-5 w-full max-w-320" style="max-width:26rem"><div class="relative"><div class="flex items-center"><button class="text-inherit font-medium text-fire-30 border-b border-fire border-none flex items-center hover:cursor-pointer " tabindex="0"><span class="border-b border-fire">Docs</span></button></div><div class="hidden fixed left-0 overflow-y-scroll overflow-x-hidden border-gray-80 border-gray-40 min-w-320 w-full h-full bg-white sm:overflow-y-auto sm:bg-transparent sm:h-auto sm:justify-center sm:rounded-bl-xl sm:rounded-br-xl sm:shadow" style="margin-top:1rem"><div class="w-full"><div class="relative w-full bg-white pb-32 min-h-full sm:pb-0 text-gray-60 text-14 rounded-bl-xl rounded-br-xl"><div class="flex justify-center w-full py-2 border-b border-gray-10"><div class="px-4 w-full space-x-2 max-w-1280 "><select class="text-12 border border-gray-10 text-gray-80 inline-block rounded px-4 py-1 font-semibold " name="versionSelection"><option class="py-4" value="latest">v9.1</option><option class="py-4" value="v9.0.0">v8.2 - v9.0</option><option selected="" class="py-4" value="v8.0.0">v6.0 - v8.2</option></select></div></div><div class="flex justify-center"><div class="w-full sm:grid sm:grid-cols-3 max-w-1280"><div class="flex px-4 sm:justify-center border-r border-gray-10 pt-8 pb-10"><div><div class="text-12 font-medium text-gray-100 tracking-wide uppercase subpixel-antialiased">Quick Links</div><div><ul class="space-y-2 ml-2 mt-6"><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs/manual/v8.0.0/introduction">Overview</a></li><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs/manual/v8.0.0/overview">Language Features</a></li><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs/manual/v8.0.0/embed-raw-javascript">JS Interop</a></li><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs/manual/v8.0.0/build-overview">Build System</a></li></ul></div></div></div><div class="flex px-4 sm:h-full sm:justify-center border-r border-gray-10 pt-8"><div class="w-full pb-16" style="max-width:19.625rem"><div class="text-12 font-medium text-gray-100 tracking-wide uppercase subpixel-antialiased">Documentation</div><div><div class="mt-6"><a class="" href="/docs/manual/v8.0.0/introduction"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_manual@2x.png"/><div><div class="flex items-center text-16 font-medium text-fire"><span>Language Manual</span></div><div class="block text-14 text-gray-60 text-fire-50">Reference for all language features</div></div></div></a><a class="" href="/docs/react/latest/introduction"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_rescript_react@2x.png"/><div><div class="flex items-center text-16 font-medium text-gray-80"><span>ReScript &amp; React</span></div><div class="block text-14 text-gray-60 text-gray-60">First class bindings for ReactJS</div></div></div></a><a class="" href="/docs/gentype/latest/introduction"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_gentype@2x.png"/><div><div class="flex items-center text-16 font-medium text-gray-80"><span>GenType</span></div><div class="block text-14 text-gray-60 text-gray-60">Seamless TypeScript &amp; Flow integration</div></div></div></a><a class="" href="https://github.com/reason-association/reanalyze" rel="noopener noreferrer" target="_blank"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_reanalyze@2x.png"/><div><div class="flex items-center text-16 font-medium text-gray-80"><span>Reanalyze</span><svg class="stroke-current inline-block ml-2 w-4 h-4" height="16.122" width="16.098" viewBox="0 0 16.098 16.122" xmlns="http://www.w3.org/2000/svg"><g transform="translate(-1046.283 -564.299)"><path d="M1987.235-1783.927h-4.849v11.17h11.164v-5.113" fill="none" stroke-width="1.5" transform="translate(-935.353 2352.43)"></path><g transform="translate(1051.72 570.607) rotate(-45)"><path d="M0,0H7.467" fill="none" stroke-width="1.5" transform="translate(0 3.128)"></path><path d="M0,0,3.078,3.078,0,6.156" fill="none" stroke-width="1.5" transform="translate(4.252 0)"></path></g></g></svg></div><div class="block text-14 text-gray-60 text-gray-60">Dead Code &amp; Termination analysis</div></div></div></a></div></div></div></div><div class="flex px-4 sm:h-full sm:justify-center pb-12 pt-8 pb-10"><div class="w-full" style="max-width:19.625rem"><div class="text-12 font-medium text-gray-100 tracking-wide uppercase subpixel-antialiased">Exploration</div><div class="mt-6"><a class="" href="/packages"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><div class="w-6 h-6"><img class="w-full" src="/static/ic_package.svg"/></div><div><div class="flex items-center text-16 font-medium text-gray-80"><span>Packages</span></div><div class="block text-14 text-gray-60 text-gray-60">Explore third party libraries and bindings</div></div></div></a><a class="" href="/syntax-lookup"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><div class="-mr-2 flex w-6 h-6 justify-center items-center"><img class="w-4 h-4" src="/static/ic_search.svg"/></div><div><div class="flex items-center text-16 font-medium text-gray-80"><span>Syntax Lookup</span></div><div class="block text-14 text-gray-60 text-gray-60">Discover all syntax constructs</div></div></div></a></div></div></div></div></div><img class="hidden xl:block absolute bottom-0 right-0" style="max-width:27.8rem" src="/static/illu_index_rescript@2x.png"/></div></div></div></div><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/docs/manual/latest/api">API</a><a class="hidden xs:block no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/try">Playground</a><a class="hidden xs:block no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/blog">Blog</a><a class="hidden xs:block no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/community">Community</a></div><div class="hidden md:flex items-center"><div class="hidden sm:block mr-6"><div class=" bg-gray-100 border border-gray-70 hover:text-white hover:cursor-pointer flex justify-center p-2 px-3 rounded-lg"><input type="text" class="transition-all ease-in-out duration-150 text-white bg-gray-100 border-none focus:outline-none w-0" id="docsearch"/><svg class="stroke-current text-gray-60 w-5 h-5" height="19.203" width="19.203" viewBox="0 0 19.203 19.203"><g fill="none" stroke-linecap="round" stroke-width="2px" transform="translate(-2 -2)"><path d="M6.479,0A6.479,6.479,0,1,1,0,6.479,6.479,6.479,0,0,1,6.479,0Z" transform="translate(3 3)"></path><line stroke-linejoin="round" transform="translate(14.055 14.055)" x1="5.734" y1="5.734"></line></g></svg></div></div><a class="mr-5 no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="https://github.com/reason-association/rescript-lang.org#rescript-langorg" rel="noopener noreferrer" target="_blank"><svg class="fill-current w-6 h-6 opacity-50 hover:opacity-100" height="17.79" width="18.236" viewBox="0 0 18.236 17.79"><g transform="translate(8 -5.365)"><path d="M17.013,9.906a9.078,9.078,0,0,0-3.318-3.318A8.918,8.918,0,0,0,9.118,5.365,8.919,8.919,0,0,0,4.541,6.588,9.077,9.077,0,0,0,1.223,9.906,8.919,8.919,0,0,0,0,14.483a8.861,8.861,0,0,0,1.739,5.36,8.93,8.93,0,0,0,4.493,3.294.531.531,0,0,0,.475-.083.464.464,0,0,0,.154-.356q0-.036-.006-.641T6.85,21l-.273.047a3.484,3.484,0,0,1-.659.042,5.02,5.02,0,0,1-.825-.083,1.844,1.844,0,0,1-.8-.356,1.506,1.506,0,0,1-.522-.73l-.119-.273a2.966,2.966,0,0,0-.374-.605,1.432,1.432,0,0,0-.516-.451l-.083-.06a.871.871,0,0,1-.154-.143.651.651,0,0,1-.107-.166q-.036-.083.059-.137a.77.77,0,0,1,.344-.053l.237.035a1.733,1.733,0,0,1,.588.285,1.916,1.916,0,0,1,.576.617,2.093,2.093,0,0,0,.659.742,1.4,1.4,0,0,0,.778.255,3.376,3.376,0,0,0,.677-.059,2.362,2.362,0,0,0,.534-.178,1.924,1.924,0,0,1,.582-1.223,8.129,8.129,0,0,1-1.217-.214,4.845,4.845,0,0,1-1.116-.463,3.2,3.2,0,0,1-.956-.8,3.822,3.822,0,0,1-.623-1.247A5.928,5.928,0,0,1,3.3,14.007a3.463,3.463,0,0,1,.938-2.446A3.192,3.192,0,0,1,4.321,9.14a1.664,1.664,0,0,1,1.021.16,7.138,7.138,0,0,1,.991.457q.315.19.5.321a8.574,8.574,0,0,1,4.559,0l.451-.285a6.389,6.389,0,0,1,1.092-.522,1.556,1.556,0,0,1,.962-.13A3.161,3.161,0,0,1,14,11.562a3.463,3.463,0,0,1,.938,2.446,5.994,5.994,0,0,1-.243,1.787,3.674,3.674,0,0,1-.629,1.247,3.319,3.319,0,0,1-.962.789,4.855,4.855,0,0,1-1.116.463,8.121,8.121,0,0,1-1.217.214,2.115,2.115,0,0,1,.617,1.686v2.5a.473.473,0,0,0,.149.356.516.516,0,0,0,.469.083A8.929,8.929,0,0,0,16.5,19.842a8.863,8.863,0,0,0,1.739-5.36A8.926,8.926,0,0,0,17.013,9.906Z" transform="translate(-8 0)"></path></g></svg></a><a class="mr-5 no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="https://twitter.com/rescriptlang" rel="noopener noreferrer" target="_blank"><svg class="fill-current w-6 h-6 opacity-50 hover:opacity-100" viewBox="0 0 15.53 12.71"><path d="M5.794,12.711a13.325,13.325,0,0,1-2.058-.163A9.659,9.659,0,0,1,.92,11.523L0,11.02l1-.328c1.089-.358,1.751-.58,2.571-.928A3.421,3.421,0,0,1,1.809,7.726l-.232-.7.19.029a3.456,3.456,0,0,1-.433-.534A3.276,3.276,0,0,1,.779,4.57l.044-.614L1.19,4.1a3.437,3.437,0,0,1-.333-.934A3.552,3.552,0,0,1,1.235.774l.32-.588L1.984.7A7.883,7.883,0,0,0,7.091,3.575a3.054,3.054,0,0,1,.185-1.623A3.038,3.038,0,0,1,8.511.536,3.71,3.71,0,0,1,10.664.008a3.439,3.439,0,0,1,2.114.872,7.1,7.1,0,0,0,.774-.258c.17-.064.362-.136.6-.219L15.042.1l-.579,1.652.119-.008L15.53,1.7l-.56.765c-.032.044-.04.056-.052.073-.045.068-.1.153-.87,1.179a1.448,1.448,0,0,0-.271.943,8.916,8.916,0,0,1-.487,3.586,6.346,6.346,0,0,1-1.7,2.524,7.524,7.524,0,0,1-3.566,1.724A10.979,10.979,0,0,1,5.794,12.711Zm0,0" transform="translate(0 -0.001)"></path></svg></a><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="https://forum.rescript-lang.org" rel="noopener noreferrer" target="_blank"><svg class="fill-current w-6 h-6 opacity-50 hover:opacity-100" viewBox="0 0 24 24"><path d="M12.103 0C18.666 0 24 5.485 24 11.997c0 6.51-5.33 11.99-11.9 11.99L0 24V11.79C0 5.28 5.532 0 12.103 0zm.116 4.563a7.395 7.395 0 00-6.337 3.57 7.247 7.247 0 00-.148 7.22L4.4 19.61l4.794-1.074a7.424 7.424 0 008.136-1.39 7.256 7.256 0 001.737-7.997 7.375 7.375 0 00-6.84-4.585h-.008z"></path></svg></a></div></div></div><button class="h-full px-4 xs:hidden flex items-center hover:text-white"><svg class="fill-current h-1 w-auto block text-gray-60" height="4" width="22" stroke="none" viewBox="0 0 22 4"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9)"></circle><circle cx="2" cy="2" r="2" transform="translate(18)"></circle></svg></button><div class="hidden sm:hidden flex-col fixed top-0 left-0 h-full w-full z-50 sm:w-9/12 bg-gray-100 sm:h-auto sm:flex sm:relative sm:flex-row sm:justify-between" style="min-width:20rem;top:4rem"><div class="border-gray-80 border-t"><ul><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><div class="opacity-75 hover:text-white hover:cursor-pointer bg-gray-80 flex items-center p-2 px-3 rounded"><svg class="stroke-current w-5 h-5 mr-3" height="19.203" width="19.203" viewBox="0 0 19.203 19.203"><g fill="none" stroke-linecap="round" stroke-width="2px" transform="translate(-2 -2)"><path d="M6.479,0A6.479,6.479,0,1,1,0,6.479,6.479,6.479,0,0,1,6.479,0Z" transform="translate(3 3)"></path><line stroke-linejoin="round" transform="translate(14.055 14.055)" x1="5.734" y1="5.734"></line></g></svg><input type="text" class="w-32 bg-gray-80 focus:outline-none " id="docsearch-mobile"/></div></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/try">Playground</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/blog">Blog</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="block hover:cursor-pointer hover:text-white text-gray-60" href="https://twitter.com/rescriptlang" rel="noopener noreferrer" target="_blank">Twitter</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="block hover:cursor-pointer hover:text-white text-gray-60" href="https://github.com/reason-association/rescript-lang.org#rescript-langorg" rel="noopener noreferrer" target="_blank">Github</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="block hover:cursor-pointer hover:text-white text-gray-60" href="https://forum.rescript-lang.org" rel="noopener noreferrer" target="_blank">Forum</a></li></ul></div></div></nav><div class="hidden z-40 bg-gray-10-tr w-full h-full bottom-0" style="backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px)"></div><div class="flex lg:justify-center"><div class="flex w-full max-w-1280 md:mx-8"><div class="hidden  md:block md:w-48 md:-ml-4 lg:w-1/5 md:h-auto md:relative overflow-y-visible bg-white" id="sidebar"><aside class="relative top-0 px-4 w-full block md:top-16 md:pt-16 md:sticky border-r border-gray-5 overflow-y-auto pb-24" id="sidebar-content" style="height:calc(100vh - 4.5rem"><div class="flex justify-between"><div class="w-3/4 md:w-full"></div><button class="md:hidden h-16"><svg class="fill-current " height="12.728" width="12.728"><path d="M12.728 11.313l-1.414 1.414L0 1.414 1.414-.001z"></path><path d="M11.314 0l1.414 1.414L1.415 12.728 0 11.314z"></path></svg></button></div><div class="flex justify-between text-fire font-medium items-baseline">Language Manual<select class="text-12 border border-gray-10 text-gray-80 inline-block rounded px-4 py-1 font-semibold " name="versionSelection"><option class="py-4" value="latest">v9.1</option><option class="py-4" value="v9.0.0">v8.2 - v9.0</option><option selected="" class="py-4" value="v8.0.0">v6.0 - v8.2</option></select></div><div class="mb-56"><div><div class="my-10"><div class="font-sans font-bold text-gray-40 tracking-wide text-12 uppercase mt-5">Overview</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/introduction">Introduction</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/installation">Installation</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/editor-plugins">Editor Plugins</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/migrate-from-bucklescript-reason">Migrate to ReScript Syntax</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/try">Try</a></li></ul></div></div><div><div class="my-10"><div class="font-sans font-bold text-gray-40 tracking-wide text-12 uppercase mt-5">Language Features</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/overview">Overview</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/let-binding">Let Binding</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/type">Type</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/primitive-types">Primitive Types</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/tuple">Tuple</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/record">Record</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/object">Object</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/variant">Variant</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/null-undefined-option">Null, Undefined and Option</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/array-and-list">Array &amp; List</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/function">Function</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/control-flow">If-Else &amp; Loops</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/pipe">Pipe</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/pattern-matching-destructuring">Pattern Matching / Destructuring</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/mutation">Mutation</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/jsx">JSX</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/exception">Exception</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/lazy-values">Lazy Values</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/promise">Promise</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/module">Module</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/import-export">Import &amp; Export</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/reserved-keywords">Reserved Keyword</a></li></ul></div></div><div><div class="my-10"><div class="font-sans font-bold text-gray-40 tracking-wide text-12 uppercase mt-5">JavaScript Interop</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/embed-raw-javascript">Embed Raw JavaScript</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/shared-data-types">Shared Data Types</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/external">External (Bind to Any JS Library)</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/bind-to-js-object">Bind to JS Object</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2  bg-fire-5 text-fire leading-5 -ml-2 pl-2 font-medium block hover:bg-fire-5 " href="/docs/manual/v8.0.0/bind-to-js-function">Bind to JS Function</a><ul class="mt-2 py-1 mb-4 border-l border-fire"><li class="pl-2 mt-3 first:mt-1"><a class="font-medium block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs/manual/v8.0.0/bind-to-js-function#labeled-arguments">Labeled Arguments</a></li><li class="pl-2 mt-3 first:mt-1"><a class="font-medium block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs/manual/v8.0.0/bind-to-js-function#object-method">Object Method</a></li><li class="pl-2 mt-3 first:mt-1"><a class="font-medium block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs/manual/v8.0.0/bind-to-js-function#variadic-function-arguments">Variadic Function Arguments</a></li><li class="pl-2 mt-3 first:mt-1"><a class="font-medium block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs/manual/v8.0.0/bind-to-js-function#modeling-polymorphic-function">Modeling Polymorphic Function</a></li><li class="pl-2 mt-3 first:mt-1"><a class="font-medium block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs/manual/v8.0.0/bind-to-js-function#constrain-arguments-better">Constrain Arguments Better</a></li><li class="pl-2 mt-3 first:mt-1"><a class="font-medium block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs/manual/v8.0.0/bind-to-js-function#special-case-event-listeners">Special-case: Event Listeners</a></li><li class="pl-2 mt-3 first:mt-1"><a class="font-medium block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs/manual/v8.0.0/bind-to-js-function#fixed-arguments">Fixed Arguments</a></li><li class="pl-2 mt-3 first:mt-1"><a class="font-medium block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs/manual/v8.0.0/bind-to-js-function#curry--uncurry">Curry &amp; Uncurry</a></li><li class="pl-2 mt-3 first:mt-1"><a class="font-medium block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs/manual/v8.0.0/bind-to-js-function#modeling-this-based-callbacks">Modeling this-based Callbacks</a></li><li class="pl-2 mt-3 first:mt-1"><a class="font-medium block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs/manual/v8.0.0/bind-to-js-function#function-nullable-return-value-wrapping">Function Nullable Return Value Wrapping</a></li></ul></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/import-from-export-to-js">Import from / Export to JS</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/bind-to-global-js-values">Bind to Global JS Values</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/json">JSON</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/use-illegal-identifier-names">Use Illegal Identifier Names</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/generate-converters-accessors">Generate Converters &amp; Helpers</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/browser-support-polyfills">Browser Support &amp; Polyfills</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/interop-cheatsheet">Interop Cheatsheet</a></li></ul></div></div><div><div class="my-10"><div class="font-sans font-bold text-gray-40 tracking-wide text-12 uppercase mt-5">Build System</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/build-overview">Build System Overview</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/build-configuration">Build System Configuration</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/interop-with-js-build-systems">Interop with JS Build Systems</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/build-performance">Build Performance</a></li></ul></div></div><div><div class="my-10"><div class="font-sans font-bold text-gray-40 tracking-wide text-12 uppercase mt-5">Guides</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/converting-from-js">Converting from JS</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/libraries">Libraries</a></li></ul></div></div><div><div class="my-10"><div class="font-sans font-bold text-gray-40 tracking-wide text-12 uppercase mt-5">Extra</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/newcomer-examples">Newcomer Examples</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/project-structure">Project Structure</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-80 rounded-sm  hover:bg-gray-5 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs/manual/v8.0.0/faq">FAQ</a></li></ul></div></div></div></aside></div><main class="px-4 w-full pt-16 md:ml-12 lg:mr-8 mb-32 md:max-w-576 lg:max-w-740"><div class="z-10 fixed border-b shadow top-16 left-0 pl-4 bg-white w-full py-4 md:relative md:border-none md:shadow-none md:p-0 md:top-auto flex items-center"><button class=" md:hidden mr-3"><img class="h-4" src="/static/ic_sidebar_drawer.svg"/></button><div class="truncate overflow-x-auto touch-scroll flex items-center space-x-4 md:justify-between mr-4 w-full"><div class="w-full font-medium overflow-x-auto text-12 text-gray-60"><a href="/docs/v8.0.0">Docs</a><span> / <a href="/docs/manual/v8.0.0/introduction">Language Manual</a></span><span> / <span>Bind to JS Function</span></span></div><a class="inline text-14 hover:underline text-fire" href="https://github.com/reason-association/rescript-lang.org/blob/master/pages/docs/manual/v8.0.0/bind-to-js-function.mdx" rel="noopener noreferrer" target="_blank">Edit</a></div></div><div class="mt-10"><div class="mb-10"><div class="border-l-2 border-sky my-5 py-6 pl-8 pr-10 bg-sky-10"><p class="md-p md:leading-5 text-gray-70 md:text-16">You are currently looking at the v6.0 - v8.2 docs (Reason v3.6 syntax edition). You can find the latest manual page <a class="no-underline text-fire hover:underline" href="/docs/manual/latest/bind-to-js-function" rel="noopener noreferrer">here</a>.<p class="text-14 mt-2">(These docs are equivalent to the old BuckleScript docs before the ReScript rebrand)</p></p></div></div><h1 class="hl-1 mb-6 ">Function</h1><p class="md-p md:leading-5 text-gray-70 md:text-16">Binding a JS function is like binding any other value:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-comment">// Import nodejs&#x27; path.dirname</span>
<span class="hljs-attribute">[@bs.module &quot;path&quot;]</span> <span class="hljs-keyword">external</span> dirname: string =&gt; string = <span class="hljs-string">&quot;dirname&quot;</span>;
<span class="hljs-keyword">let</span> root = dirname(<span class="hljs-string">&quot;/User/github&quot;</span>); <span class="hljs-comment">// returns &quot;User&quot;</span>
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16">We also expose a few special features, described below.</p><h2 class="group mt-16 mb-3 hl-3">Labeled Arguments<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#labeled-arguments"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="labeled-arguments" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 text-gray-70 md:text-16">ReScript has <a class="no-underline text-fire hover:underline" href="function#labeled-arguments" rel="noopener noreferrer">labeled arguments</a> (that can also be optional). These work on an <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">external</code> too! You&#x27;d use them to <em>fix</em> a JS function&#x27;s unclear usage. Assuming we&#x27;re modeling this:</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 bg-gray-5 font-sans text-12 font-bold text-gray-60 ">JS</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-js "><span class="hljs-comment">// MyGame.js</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">draw</span>(<span class="hljs-params">x, y, border</span>) </span>{
   <span class="hljs-comment">// suppose `border` is optional and defaults to false</span>
}
draw(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)
draw(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-literal">true</span>)
</code></div></div></div></pre><p class="md-p md:leading-5 text-gray-70 md:text-16">It&#x27;d be nice if on ReScript&#x27;s side, we can bind &amp; call <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">draw</code> while labeling things a bit:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-attribute">[@bs.module &quot;MyGame&quot;]</span>
<span class="hljs-keyword">external</span> draw: (~x: int, ~y: int, ~border: bool=?, unit) =&gt; unit = <span class="hljs-string">&quot;draw&quot;</span>;

draw(~x=<span class="hljs-number">10</span>, ~y=<span class="hljs-number">20</span>, ~border=<span class="hljs-literal">true</span>, ());
draw(~x=<span class="hljs-number">10</span>, ~y=<span class="hljs-number">20</span>, ());
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16">We&#x27;ve compiled to the same function, but now the usage is much clearer on the ReScript side thanks to labels!</p><p class="md-p md:leading-5 text-gray-70 md:text-16"><strong class="font-semibold text-gray-80">Note</strong>: in this particular case, you need a unit, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">()</code> after <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">border</code>, since <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">border</code> is an <a class="no-underline text-fire hover:underline" href="function#optional-labeled-arguments" rel="noopener noreferrer">optional argument at the last position</a>. Not having a unit to indicate you&#x27;ve finished applying the function would generate a warning.</p><p class="md-p md:leading-5 text-gray-70 md:text-16">Note that you can change the order of labeled arguments on the ReScript side and BuckleScript will ensure that they appear the right way in the JavaScript output:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-attribute">[@bs.module &quot;MyGame&quot;]</span>
<span class="hljs-keyword">external</span> draw: (~x: int, ~y: int, ~border: bool=?, unit) =&gt; unit = <span class="hljs-string">&quot;draw&quot;</span>;

draw(~x=<span class="hljs-number">10</span>, ~y=<span class="hljs-number">20</span>, ());
draw(~y=<span class="hljs-number">20</span>, ~x=<span class="hljs-number">10</span>, ());
</code></pre></div></div></div><h2 class="group mt-16 mb-3 hl-3">Object Method<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#object-method"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="object-method" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 text-gray-70 md:text-16">Functions attached to a JS objects (other than JS modules) require a special way of binding to them, using <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.send</code>:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-keyword">type</span> document; <span class="hljs-comment">// abstract type for a document object</span>
<span class="hljs-attribute">[@bs.send]</span> <span class="hljs-keyword">external</span> getElementById: (document, string) =&gt; <span class="hljs-module-identifier">Dom</span>.element = <span class="hljs-string">&quot;getElementById&quot;</span>;
<span class="hljs-attribute">[@bs.val]</span> <span class="hljs-keyword">external</span> doc: document = <span class="hljs-string">&quot;document&quot;</span>;

<span class="hljs-keyword">let</span> el = getElementById(doc, <span class="hljs-string">&quot;myId&quot;</span>);
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16">In a <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.send</code>, the object is always the first argument. Actual arguments of the method follow (this is a bit what modern OOP objects are really).</p><h3 class="group mt-12 mb-3 hl-4">Chaining<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#chaining"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="chaining" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 text-gray-70 md:text-16">Ever used <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">foo().bar().baz()</code> chaining (&quot;fluent api&quot;) in JS OOP? We can model that in BuckleScript too, through the <a class="no-underline text-fire hover:underline" href="pipe" rel="noopener noreferrer">pipe operator</a>.</p><h2 class="group mt-16 mb-3 hl-3">Variadic Function Arguments<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#variadic-function-arguments"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="variadic-function-arguments" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 text-gray-70 md:text-16">You might have JS functions that take an arbitrary amount of arguments. BuckleScript supports modeling those, under the condition that the arbitrary arguments part is homogenous (aka of the same type). If so, add <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.variadic</code> to your <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">external</code>.</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-attribute">[@bs.module &quot;path&quot;]</span> <span class="hljs-attribute">[@bs.variadic]</span>
<span class="hljs-keyword">external</span> join: array(string) =&gt; string = <span class="hljs-string">&quot;join&quot;</span>;

<span class="hljs-keyword">let</span> v = join(<span class="hljs-literal">[|</span><span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span><span class="hljs-literal">|]</span>);
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16"><code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.module</code> will be explained in <a class="no-underline text-fire hover:underline" href="import-from-export-to-js" rel="noopener noreferrer">Import from/Export to JS</a>.</p><h2 class="group mt-16 mb-3 hl-3">Modeling Polymorphic Function<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#modeling-polymorphic-function"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="modeling-polymorphic-function" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 text-gray-70 md:text-16">Apart from the above special-case, JS function in general are often arbitrary overloaded in terms of argument types and number. How would you bind to those?</p><h3 class="group mt-12 mb-3 hl-4">Trick 1: Multiple <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">external</code>s<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#trick-1-multiple-externals"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="trick-1-multiple-externals" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 text-gray-70 md:text-16">If you can exhaustively enumerate the many forms an overloaded JS function can take, simply bind to each differently:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-attribute">[@bs.module &quot;MyGame&quot;]</span> <span class="hljs-keyword">external</span> drawCat: unit =&gt; unit = <span class="hljs-string">&quot;draw&quot;</span>;
<span class="hljs-attribute">[@bs.module &quot;MyGame&quot;]</span> <span class="hljs-keyword">external</span> drawDog: (~giveName: string) =&gt; unit = <span class="hljs-string">&quot;draw&quot;</span>;
<span class="hljs-attribute">[@bs.module &quot;MyGame&quot;]</span> <span class="hljs-keyword">external</span> draw: (string, ~useRandomAnimal: bool) =&gt; unit = <span class="hljs-string">&quot;draw&quot;</span>;
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16">Note how all three externals bind to the same JS function, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">draw</code>.</p><h3 class="group mt-12 mb-3 hl-4">Trick 2: Polymorphic Variant + <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.unwrap</code><span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#trick-2-polymorphic-variant--bsunwrap"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="trick-2-polymorphic-variant--bsunwrap" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 text-gray-70 md:text-16">If you have the irresistible urge of saying &quot;if only this JS function argument was a variant instead of informally being either <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">string</code> or <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">int</code>&quot;, then good news: we do provide such <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">external</code> features through annotating a parameter as a polymorphic variant! Assuming you have the following JS function you&#x27;d like to bind to:</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 bg-gray-5 font-sans text-12 font-bold text-gray-60 ">JS</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-js "><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">padLeft</span>(<span class="hljs-params">value, padding</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> padding === <span class="hljs-string">&quot;number&quot;</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Array</span>(padding + <span class="hljs-number">1</span>).join(<span class="hljs-string">&quot; &quot;</span>) + value;
  }
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> padding === <span class="hljs-string">&quot;string&quot;</span>) {
    <span class="hljs-keyword">return</span> padding + value;
  }
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`Expected string or number, got &#x27;<span class="hljs-subst">${padding}</span>&#x27;.`</span>);
}
</code></div></div></div></pre><p class="md-p md:leading-5 text-gray-70 md:text-16">Here, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">padding</code> is really conceptually a variant. Let&#x27;s model it as such.</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-attribute">[@bs.val]</span>
<span class="hljs-keyword">external</span> padLeft: (
  string,
  <span class="hljs-attribute">[@bs.unwrap]</span> <span class="hljs-literal">[</span>
    | <span class="hljs-constructor">`Str</span>(string)
    | <span class="hljs-constructor">`Int</span>(int)
  <span class="hljs-literal">]</span>)
  =&gt; string = <span class="hljs-string">&quot;padLeft&quot;</span>;

padLeft(<span class="hljs-string">&quot;Hello World&quot;</span>, <span class="hljs-constructor">`Int</span>(<span class="hljs-number">4</span>));
padLeft(<span class="hljs-string">&quot;Hello World&quot;</span>, <span class="hljs-constructor">`Str</span>(<span class="hljs-string">&quot;Message from ReScript: &quot;</span>));
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16">Obviously, the JS side couldn&#x27;t have an argument that&#x27;s a polymorphic variant! But here, we&#x27;re just piggy backing on poly variants&#x27; type checking and syntax. The secret is the <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">@bs.unwrap</code> annotation on the type. It strips the variant constructors and compile to just the payload&#x27;s value. See the output.</p><h2 class="group mt-16 mb-3 hl-3">Constrain Arguments Better<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#constrain-arguments-better"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="constrain-arguments-better" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 text-gray-70 md:text-16">Consider the Node <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">fs.readFileSync</code>&#x27;s second argument. It can take a string, but really only a defined set: <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">&quot;ascii&quot;</code>, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">&quot;utf8&quot;</code>, etc. You can still bind it as a string, but we can use poly variants + <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.string</code> to ensure that our usage&#x27;s more correct:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-attribute">[@bs.module &quot;fs&quot;]</span>
<span class="hljs-keyword">external</span> readFileSync: (
  ~name: string,
  <span class="hljs-attribute">[@bs.string]</span> <span class="hljs-literal">[</span>
    | <span class="hljs-constructor">`utf8</span>
    | <span class="hljs-attribute">[@bs.as &quot;ascii&quot;]</span> <span class="hljs-constructor">`useAscii</span>
  <span class="hljs-literal">]</span>,
) =&gt; string = <span class="hljs-string">&quot;fs&quot;</span>;

readFileSync(~name=<span class="hljs-string">&quot;xx.txt&quot;</span>, <span class="hljs-constructor">`useAscii</span>);
</code></pre></div></div></div><ul class="md-ul"><li class="md-li mt-3 leading-4 ml-4 text-current"><p>Attaching <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">[@bs.string]</code> to the whole poly variant type makes its constructor compile to a string of the same name.</p></li><li class="md-li mt-3 leading-4 ml-4 text-current"><p>Attaching a <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">[@bs.as &quot;bla&quot;]</code> to a constructor lets you customize the final string.</p></li></ul><p class="md-p md:leading-5 text-gray-70 md:text-16">And now, passing something like <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">&quot;myOwnUnicode&quot;</code> or other variant constructor names to <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">readFileSync</code> would correctly error.</p><p class="md-p md:leading-5 text-gray-70 md:text-16">Aside from string, you can also compile an argument to an int, using <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.int</code> instead of <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.string</code> in a similar way:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-attribute">[@bs.val]</span>
<span class="hljs-keyword">external</span> testIntType: (
  <span class="hljs-attribute">[@bs.int]</span> <span class="hljs-literal">[</span>
    | <span class="hljs-constructor">`onClosed</span>
    | <span class="hljs-attribute">[@bs.as 20]</span> <span class="hljs-constructor">`onOpen</span>
    | <span class="hljs-constructor">`inBinary</span>
  <span class="hljs-literal">]</span>)
  =&gt; int = <span class="hljs-string">&quot;testIntType&quot;</span>;
testIntType(<span class="hljs-constructor">`inBinary</span>);
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16"><code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">onClosed</code> compiles to <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">0</code>, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">onOpen</code> to <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">20</code> and <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">inBinary</code> to <strong class="font-semibold text-gray-80"><code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">21</code></strong>.</p><h2 class="group mt-16 mb-3 hl-3">Special-case: Event Listeners<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#special-case-event-listeners"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="special-case-event-listeners" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 text-gray-70 md:text-16">One last trick with polymorphic variants:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-keyword">type</span> readline;

<span class="hljs-attribute">[@bs.send]</span>
<span class="hljs-keyword">external</span> on: (
    readline,
    <span class="hljs-attribute">[@bs.string]</span> <span class="hljs-literal">[</span>
      | <span class="hljs-constructor">`close</span>(unit =&gt; unit)
      | <span class="hljs-constructor">`line</span>(string =&gt; unit)
    <span class="hljs-literal">]</span>
  )
  =&gt; readline = <span class="hljs-string">&quot;on&quot;</span>;

<span class="hljs-keyword">let</span> register = rl =&gt;
  rl
  <span class="hljs-operator">-&gt;</span>on(<span class="hljs-constructor">`close</span>(event =&gt; ()))
  <span class="hljs-operator">-&gt;</span>on(<span class="hljs-constructor">`line</span>(line =&gt; <span class="hljs-module-identifier">Js</span>.log(line)));
</code></pre></div></div></div><h2 class="group mt-16 mb-3 hl-3">Fixed Arguments<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#fixed-arguments"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="fixed-arguments" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 text-gray-70 md:text-16">Sometimes it&#x27;s convenient to bind to a function using an <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">external</code>, while passing predetermined argument values to the JS function:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-attribute">[@bs.val]</span>
<span class="hljs-keyword">external</span> processOnExit: (
  <span class="hljs-attribute">[@bs.as &quot;exit&quot;]</span> _,
  int =&gt; unit
) =&gt; unit = <span class="hljs-string">&quot;process.on&quot;</span>;

processOnExit(exitCode =&gt;
  <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;error code: &quot;</span> <span class="hljs-operator">++</span> <span class="hljs-module-identifier">Js</span>.<span class="hljs-module-identifier">Int</span>.toString(exitCode))
);
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16">The <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">[@bs.as &quot;exit&quot;]</code> and the placeholder <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">_</code> argument together indicates that you want the first argument to compile to the string <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">&quot;exit&quot;</code>. You can also use any JSON literal with <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.as</code>: <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">[@bs.as {json|true|json}]</code>, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">[@bs.as {json|{&quot;name&quot;: &quot;John&quot;}|json}]</code>, etc.</p><h2 class="group mt-16 mb-3 hl-3">Curry &amp; Uncurry<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#curry--uncurry"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="curry--uncurry" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 text-gray-70 md:text-16">Curry is a delicious Indian dish. More importantly, in the context of ReScript (and functional programming in general), currying means that function taking multiple arguments can be applied a few arguments at time, until all the arguments are applied.</p><p class="md-p md:leading-5 text-gray-70 md:text-16">See the <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">addFive</code> intermediate function? <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">add</code> takes in 3 arguments but received only 1. It&#x27;s interpreted as &quot;currying&quot; the argument <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">5</code> and waiting for the next 2 arguments to be applied later on. Type signatures:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="sm:px-4 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-rei "><span class="hljs-keyword">let</span> add: (int, int, int) =&gt; int;
<span class="hljs-keyword">let</span> addFive: (int, int) =&gt; int;
<span class="hljs-keyword">let</span> twelve: int;
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16">(In a dynamic language such as JS, currying would be dangerous, since accidentally forgetting to pass an argument doesn&#x27;t error at compile time).</p><h3 class="group mt-12 mb-3 hl-4">Drawback<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#drawback"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="drawback" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 text-gray-70 md:text-16">Unfortunately, due to JS not having currying because of the aforementioned reason, it&#x27;s hard for ReScript multi-argument functions to map cleanly to JS functions 100% of the time:</p><ol class="md-ol ml-2"><li class="md-li mt-3 leading-4 ml-4 text-current"><p class="md-p md:leading-5 text-gray-70 md:text-16">When all the arguments of a function are supplied (aka no currying), ReScript does its best to to compile e.g. a 3-arguments call into a plain JS call with 3 arguments.</p></li><li class="md-li mt-3 leading-4 ml-4 text-current"><p class="md-p md:leading-5 text-gray-70 md:text-16">If it&#x27;s too hard to detect whether a function application is complete<!-- -->*<!-- -->, ReScript will use a runtime mechanism (the <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">Curry</code> module) to curry as many args as we can and check whether the result is fully applied.</p></li><li class="md-li mt-3 leading-4 ml-4 text-current"><p class="md-p md:leading-5 text-gray-70 md:text-16">Some JS APIs like <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">throttle</code>, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">debounce</code> and <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">promise</code> might mess with context, aka use the function <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bind</code> mechanism, carry around <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">this</code>, etc. Such implementation clashes with the previous currying logic.</p></li></ol><p class="md-p md:leading-5 text-gray-70 md:text-16">*<!-- --> If the call site is typed as having 3 arguments, we sometimes don&#x27;t know whether it&#x27;s a function that&#x27;s being curried, or if the original one indeed has only 3 arguments.</p><p class="md-p md:leading-5 text-gray-70 md:text-16">ReScript tries to do #1 as much as it can. Even when it bails and uses #2&#x27;s currying mechanism, it&#x27;s usually harmless.</p><p class="md-p md:leading-5 text-gray-70 md:text-16"><strong class="font-semibold text-gray-80">However</strong>, if you encounter #3, heuristics are not good enough: you need a guaranteed way of fully applying a function, without intermediate currying steps. We provide such guarantee through the use of the <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">@bs</code> &quot;uncurrying&quot; annotation on a function declaration &amp; call site.</p><h3 class="group mt-12 mb-3 hl-4">Solution: Use Guaranteed Uncurrying<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#solution-use-guaranteed-uncurrying"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="solution-use-guaranteed-uncurrying" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 text-gray-70 md:text-16"><a class="no-underline text-fire hover:underline" href="function#uncurried-function" rel="noopener noreferrer">Uncurried function</a> annotation also works on <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">external</code>:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-keyword">type</span> timerId;
<span class="hljs-attribute">[@bs.val]</span> <span class="hljs-keyword">external</span> setTimeout: ((. unit) =&gt; unit, int) =&gt; timerId = <span class="hljs-string">&quot;setTimeout&quot;</span>;

<span class="hljs-keyword">let</span> id = setTimeout((.) =&gt; <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;hello&quot;</span>), <span class="hljs-number">1000</span>);
</code></pre></div></div></div><h4 class="group mt-12 hl-5">Extra Solution<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#extra-solution"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="extra-solution" style="position:absolute;top:-7rem"></a></span></span></h4><p class="md-p md:leading-5 text-gray-70 md:text-16">The above solution is safe, guaranteed, and performant, but sometimes visually a little burdensome. We provide an alternative solution if:</p><ul class="md-ul"><li class="md-li mt-3 leading-4 ml-4 text-current"><p>you&#x27;re using <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">external</code></p></li><li class="md-li mt-3 leading-4 ml-4 text-current"><p>the <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">external</code> function takes in an argument that&#x27;s another function</p></li><li class="md-li mt-3 leading-4 ml-4 text-current"><p>you want the user <strong class="font-semibold text-gray-80">not</strong> to need to annotate the call sites with the dot</p></li></ul><p class="md-p md:leading-5 text-gray-70 md:text-16">Then try <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">@bs.uncurry</code>:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-attribute">[@bs.send]</span> <span class="hljs-keyword">external</span> map: (array(&#x27;a), <span class="hljs-attribute">[@bs.uncurry]</span> (&#x27;a =&gt; &#x27;b)) =&gt; array(&#x27;b) = <span class="hljs-string">&quot;map&quot;</span>;
map(<span class="hljs-literal">[|</span><span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span><span class="hljs-literal">|]</span>, x =&gt; x <span class="hljs-operator">+</span> <span class="hljs-number">1</span>);
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16">In general, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.uncurry</code> is recommended; the compiler will do lots of optimizations to resolve the currying to uncurrying at compile time. However, there are some cases the compiler can&#x27;t optimize it. In these cases, it will be converted to a runtime check.</p><h2 class="group mt-16 mb-3 hl-3">Modeling <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">this</code>-based Callbacks<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#modeling-this-based-callbacks"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="modeling-this-based-callbacks" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 text-gray-70 md:text-16">Many JS libraries have callbacks which rely on this (the source), for example:</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 bg-gray-5 font-sans text-12 font-bold text-gray-60 ">JS</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-js ">x.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">v</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.response + v)
}
</code></div></div></div></pre><p class="md-p md:leading-5 text-gray-70 md:text-16">Here, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">this</code> would point to <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">x</code> (actually, it depends on how <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">onload</code> is called, but we digress). It&#x27;s not correct to declare <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">x.onload</code> of type <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">(. unit) -&gt; unit</code>. Instead, we introduced a special attribute, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.this</code>, which allows us to type <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">x</code> as so:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-keyword">type</span> x;
<span class="hljs-attribute">[@bs.val]</span> <span class="hljs-keyword">external</span> x: x = <span class="hljs-string">&quot;x&quot;</span>;
<span class="hljs-attribute">[@bs.set]</span> <span class="hljs-keyword">external</span> setOnload: (x, <span class="hljs-attribute">[@bs.this]</span> ((x, int) =&gt; unit)) =&gt; unit = <span class="hljs-string">&quot;onload&quot;</span>;
<span class="hljs-attribute">[@bs.get]</span> <span class="hljs-keyword">external</span> resp: x =&gt; int = <span class="hljs-string">&quot;response&quot;</span>;
setOnload(x, <span class="hljs-attribute">[@bs.this]</span> ((o, v) =&gt; <span class="hljs-module-identifier">Js</span>.log(resp(o) <span class="hljs-operator">+</span> v)));
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16"><code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.this</code> has its first parameter is reserved for <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">this</code> and for arity of 0, there is no need for a redundant <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">unit</code> type.</p><h2 class="group mt-16 mb-3 hl-3">Function Nullable Return Value Wrapping<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#function-nullable-return-value-wrapping"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="function-nullable-return-value-wrapping" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 text-gray-70 md:text-16">For JS functions that return a value that can also be <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">undefined</code> or <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">null</code>, we provide <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">[@bs.return ...]</code>. To automatically convert that value to an <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">option</code> type (recall that ReScript <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">option</code> type&#x27;s <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">None</code> value only compiles to <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">undefined</code> and not <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">null</code>).</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full overflow-auto font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-30px"><div class="flex ml-2 xs:ml-0"><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium text-gray-80 bg-gray-5 border-t-2 first:border-l" style="border-color:#f4646a #EDF0F2">Reason (Old Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">ML (Older Syntax)</span><span class="lg:px-8 flex-none px-4 inline-block p-1 first:rounded-tl font-medium hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-re "><span class="hljs-keyword">type</span> element;
<span class="hljs-keyword">type</span> dom;

<span class="hljs-attribute">[@bs.send]</span> <span class="hljs-attribute">[@bs.return nullable]</span>
<span class="hljs-keyword">external</span> getElementById: (dom, string) =&gt; option(element) = <span class="hljs-string">&quot;getElementById&quot;</span>;

<span class="hljs-keyword">let</span> test = dom =&gt; {
  <span class="hljs-keyword">let</span> elem = dom<span class="hljs-operator">-&gt;</span>(getElementById(<span class="hljs-string">&quot;haha&quot;</span>))
  <span class="hljs-keyword">switch</span> (elem) {
  | <span class="hljs-constructor">None</span> =&gt; <span class="hljs-number">1</span>
  | <span class="hljs-constructor">Some</span>(_ui) =&gt; <span class="hljs-number">2</span>
  }
};
</code></pre></div></div></div><p class="md-p md:leading-5 text-gray-70 md:text-16"><code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">bs.return(nullable)</code> attribute will automatically convert <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">null</code> and <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">undefined</code> to <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">option</code> type.</p><p class="md-p md:leading-5 text-gray-70 md:text-16">Currently 4 directives are supported: <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">null_to_opt</code>, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">undefined_to_opt</code>, <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">nullable</code> and <code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">identity</code>.</p><p class="md-p md:leading-5 text-gray-70 md:text-16"><code class="md-inline-code px-0.75 font-normal rounded-sm font-mono bg-[rgba(196,186,186,0.1)]">identity</code> will make sure that compiler will do nothing about the returned value. It is rarely used, but introduced here for debugging purpose.</p></div></main></div></div></div><footer class="flex justify-center border-t border-gray-10"><div class="flex flex-col md:flex-row justify-between max-w-1280 w-full px-8 py-16 text-gray-80 "><div><img class="w-40 mb-5" src="/static/rescript_logo_black.svg"/><div class="text-16"><p>© 2021 The ReScript Project</p><p>Software and assets distribution powered by <a class="no-underline text-fire hover:underline" href="https://www.keycdn.com/" rel="noopener noreferrer" target="_blank">KeyCDN</a>.</p></div></div><div class="flex flex-col space-y-16 md:flex-row mt-16 md:mt-0 md:ml-16 md:space-y-0 md:space-x-16"><div><span class="block text-gray-60 tracking-wide text-14 uppercase mb-4">About</span><ul class="text-16 text-gray-80-tr space-y-2"><li><a class="hover:underline hover:pointer" href="/community#core-team">Team</a></li><li><a class="hover:underline hover:pointer" href="https://rescript-association.org" target="_blank">ReScript Association</a></li></ul></div><div><span class="block text-gray-60 tracking-wide text-14 uppercase mb-4">Find us on</span><div class="flex space-x-3 text-gray-100"><a class="hover:pointer hover:text-gray-60-tr" href="https://github.com/rescript-lang" rel="noopener noreferrer" target="_blank"><svg class="fill-current w-6 h-6" height="17.79" width="18.236" viewBox="0 0 18.236 17.79"><g transform="translate(8 -5.365)"><path d="M17.013,9.906a9.078,9.078,0,0,0-3.318-3.318A8.918,8.918,0,0,0,9.118,5.365,8.919,8.919,0,0,0,4.541,6.588,9.077,9.077,0,0,0,1.223,9.906,8.919,8.919,0,0,0,0,14.483a8.861,8.861,0,0,0,1.739,5.36,8.93,8.93,0,0,0,4.493,3.294.531.531,0,0,0,.475-.083.464.464,0,0,0,.154-.356q0-.036-.006-.641T6.85,21l-.273.047a3.484,3.484,0,0,1-.659.042,5.02,5.02,0,0,1-.825-.083,1.844,1.844,0,0,1-.8-.356,1.506,1.506,0,0,1-.522-.73l-.119-.273a2.966,2.966,0,0,0-.374-.605,1.432,1.432,0,0,0-.516-.451l-.083-.06a.871.871,0,0,1-.154-.143.651.651,0,0,1-.107-.166q-.036-.083.059-.137a.77.77,0,0,1,.344-.053l.237.035a1.733,1.733,0,0,1,.588.285,1.916,1.916,0,0,1,.576.617,2.093,2.093,0,0,0,.659.742,1.4,1.4,0,0,0,.778.255,3.376,3.376,0,0,0,.677-.059,2.362,2.362,0,0,0,.534-.178,1.924,1.924,0,0,1,.582-1.223,8.129,8.129,0,0,1-1.217-.214,4.845,4.845,0,0,1-1.116-.463,3.2,3.2,0,0,1-.956-.8,3.822,3.822,0,0,1-.623-1.247A5.928,5.928,0,0,1,3.3,14.007a3.463,3.463,0,0,1,.938-2.446A3.192,3.192,0,0,1,4.321,9.14a1.664,1.664,0,0,1,1.021.16,7.138,7.138,0,0,1,.991.457q.315.19.5.321a8.574,8.574,0,0,1,4.559,0l.451-.285a6.389,6.389,0,0,1,1.092-.522,1.556,1.556,0,0,1,.962-.13A3.161,3.161,0,0,1,14,11.562a3.463,3.463,0,0,1,.938,2.446,5.994,5.994,0,0,1-.243,1.787,3.674,3.674,0,0,1-.629,1.247,3.319,3.319,0,0,1-.962.789,4.855,4.855,0,0,1-1.116.463,8.121,8.121,0,0,1-1.217.214,2.115,2.115,0,0,1,.617,1.686v2.5a.473.473,0,0,0,.149.356.516.516,0,0,0,.469.083A8.929,8.929,0,0,0,16.5,19.842a8.863,8.863,0,0,0,1.739-5.36A8.926,8.926,0,0,0,17.013,9.906Z" transform="translate(-8 0)"></path></g></svg></a><a class="hover:pointer hover:text-gray-60-tr" href="https://twitter.com/rescriptlang" rel="noopener noreferrer" target="_blank"><svg class="fill-current w-6 h-6" viewBox="0 0 15.53 12.71"><path d="M5.794,12.711a13.325,13.325,0,0,1-2.058-.163A9.659,9.659,0,0,1,.92,11.523L0,11.02l1-.328c1.089-.358,1.751-.58,2.571-.928A3.421,3.421,0,0,1,1.809,7.726l-.232-.7.19.029a3.456,3.456,0,0,1-.433-.534A3.276,3.276,0,0,1,.779,4.57l.044-.614L1.19,4.1a3.437,3.437,0,0,1-.333-.934A3.552,3.552,0,0,1,1.235.774l.32-.588L1.984.7A7.883,7.883,0,0,0,7.091,3.575a3.054,3.054,0,0,1,.185-1.623A3.038,3.038,0,0,1,8.511.536,3.71,3.71,0,0,1,10.664.008a3.439,3.439,0,0,1,2.114.872,7.1,7.1,0,0,0,.774-.258c.17-.064.362-.136.6-.219L15.042.1l-.579,1.652.119-.008L15.53,1.7l-.56.765c-.032.044-.04.056-.052.073-.045.068-.1.153-.87,1.179a1.448,1.448,0,0,0-.271.943,8.916,8.916,0,0,1-.487,3.586,6.346,6.346,0,0,1-1.7,2.524,7.524,7.524,0,0,1-3.566,1.724A10.979,10.979,0,0,1,5.794,12.711Zm0,0" transform="translate(0 -0.001)"></path></svg></a><a class="hover:pointer hover:text-gray-60-tr" href="https://forum.rescript-lang.org" rel="noopener noreferrer" target="_blank"><svg class="fill-current w-6 h-6" viewBox="0 0 24 24"><path d="M12.103 0C18.666 0 24 5.485 24 11.997c0 6.51-5.33 11.99-11.9 11.99L0 24V11.79C0 5.28 5.532 0 12.103 0zm.116 4.563a7.395 7.395 0 00-6.337 3.57 7.247 7.247 0 00-.148 7.22L4.4 19.61l4.794-1.074a7.424 7.424 0 008.136-1.39 7.256 7.256 0 001.737-7.997 7.375 7.375 0 00-6.84-4.585h-.008z"></path></svg></a></div></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/docs/manual/v8.0.0/bind-to-js-function","query":{},"buildId":"JjapGmKDW5MNWEW3ZuVoZ","runtimeConfig":{},"nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/chunks/polyfills-9def993fe817cc057038.js"></script><script src="/_next/static/chunks/webpack-ff8c7ec38065d28e77b4.js" async=""></script><script src="/_next/static/chunks/framework-23118dcc1b886e5b49be.js" async=""></script><script src="/_next/static/chunks/main-82e7c4d3c08582bd58e0.js" async=""></script><script src="/_next/static/chunks/pages/_app-fb59fb960238de483ba3.js" async=""></script><script src="/_next/static/chunks/pages/docs/manual/v8.0.0/bind-to-js-function-8c8cbfb871e10092ecfe.js" async=""></script><script src="/_next/static/JjapGmKDW5MNWEW3ZuVoZ/_buildManifest.js" async=""></script><script src="/_next/static/JjapGmKDW5MNWEW3ZuVoZ/_ssgManifest.js" async=""></script><script async="" defer="" src="https://scripts.simpleanalyticscdn.com/latest.js"></script><noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt=""/></noscript></body></html>